<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"><title>xesxz's blog</title><meta name="description" content="让努力看得见~">
    <link rel="modulepreload" href="/assets/app.ace0dae9.js"><link rel="modulepreload" href="/assets/浅谈浏览器端 WebGIS 开发可能会用到的、提升效率的 js 库.html.a8dbdcf7.js"><link rel="modulepreload" href="/assets/浅谈浏览器端 WebGIS 开发可能会用到的、提升效率的 js 库.html.54a2500f.js"><link rel="prefetch" href="/assets/geoserver.html.826cc567.js"><link rel="prefetch" href="/assets/gost.html.26d8c9f0.js"><link rel="prefetch" href="/assets/python.html.04ae3443.js"><link rel="prefetch" href="/assets/常用.html.9200aa10.js"><link rel="prefetch" href="/assets/软路由.html.bc1bdf39.js"><link rel="prefetch" href="/assets/202312.html.56411c49.js"><link rel="prefetch" href="/assets/富文本解决方案.html.23c0d743.js"><link rel="prefetch" href="/assets/_ 骨架屏方案.html.821caa5c.js"><link rel="prefetch" href="/assets/arcgis.html.492f70a5.js"><link rel="prefetch" href="/assets/awesome.html.4460d1e2.js"><link rel="prefetch" href="/assets/b.html.889110a5.js"><link rel="prefetch" href="/assets/bigscreen.html.05f4ffc4.js"><link rel="prefetch" href="/assets/bun.html.a96e48b3.js"><link rel="prefetch" href="/assets/c_.html.220c80e9.js"><link rel="prefetch" href="/assets/c.html.9c96a797.js"><link rel="prefetch" href="/assets/catalog.html.a4ec461d.js"><link rel="prefetch" href="/assets/class.html.0bcbd2dc.js"><link rel="prefetch" href="/assets/cli.html.37c014bf.js"><link rel="prefetch" href="/assets/cloudflare.html.a3fbd0f5.js"><link rel="prefetch" href="/assets/cookie_token_session的一些思考.html.85c95585.js"><link rel="prefetch" href="/assets/css.html.7ff6a04c.js"><link rel="prefetch" href="/assets/docker.html.7973b276.js"><link rel="prefetch" href="/assets/download.html.0a9bf833.js"><link rel="prefetch" href="/assets/express.html.2beeef65.js"><link rel="prefetch" href="/assets/ffmpeg.html.0692c5c5.js"><link rel="prefetch" href="/assets/github.html.a05e6616.js"><link rel="prefetch" href="/assets/go.html.ab716f29.js"><link rel="prefetch" href="/assets/icon.html.b15c87be.js"><link rel="prefetch" href="/assets/interview.html.1c8b5b14.js"><link rel="prefetch" href="/assets/interview2023.html.9220b9fc.js"><link rel="prefetch" href="/assets/interview2024.html.1cad9163.js"><link rel="prefetch" href="/assets/interview2other.html.bbe4e2d8.js"><link rel="prefetch" href="/assets/javascript.html.122f5849.js"><link rel="prefetch" href="/assets/jq.html.e842d231.js"><link rel="prefetch" href="/assets/jquery.html.e6ba0a4c.js"><link rel="prefetch" href="/assets/koa2-express-mongod-redis.html.7515fc65.js"><link rel="prefetch" href="/assets/linux.html.c50918d6.js"><link rel="prefetch" href="/assets/lodash.html.e6ec84b5.js"><link rel="prefetch" href="/assets/mac.html.911e183c.js"><link rel="prefetch" href="/assets/mysql.html.b6e3cdd4.js"><link rel="prefetch" href="/assets/network.html.9f0d2773.js"><link rel="prefetch" href="/assets/networkCommand.html.7e1d62b6.js"><link rel="prefetch" href="/assets/next.html.a34e0f35.js"><link rel="prefetch" href="/assets/nginx.html.94b16498.js"><link rel="prefetch" href="/assets/node.html.bf247906.js"><link rel="prefetch" href="/assets/npm.html.f7b56202.js"><link rel="prefetch" href="/assets/performance.html.fa501653.js"><link rel="prefetch" href="/assets/plugin.html.3ddf712c.js"><link rel="prefetch" href="/assets/react.html.ac76e46a.js"><link rel="prefetch" href="/assets/rust.html.8189e076.js"><link rel="prefetch" href="/assets/speedtest-cli.html.8103b9db.js"><link rel="prefetch" href="/assets/sss.html.9be5696f.js"><link rel="prefetch" href="/assets/sub.html.c4df394d.js"><link rel="prefetch" href="/assets/supabase.html.73070eb1.js"><link rel="prefetch" href="/assets/tailwind.html.7c44cf1e.js"><link rel="prefetch" href="/assets/trick.html.ab584e92.js"><link rel="prefetch" href="/assets/ts.html.7565581f.js"><link rel="prefetch" href="/assets/turf.html.1f7aabcd.js"><link rel="prefetch" href="/assets/typescript.html.d38370a2.js"><link rel="prefetch" href="/assets/vite.html.a2497485.js"><link rel="prefetch" href="/assets/vscode.html.0e9bac79.js"><link rel="prefetch" href="/assets/vue.html.956c4a3e.js"><link rel="prefetch" href="/assets/vue2.html.6b74199d.js"><link rel="prefetch" href="/assets/webpack.html.f4cbab1a.js"><link rel="prefetch" href="/assets/www.html.e55ec298.js"><link rel="prefetch" href="/assets/倾斜摄影.html.cc83fcde.js"><link rel="prefetch" href="/assets/原生.html.c7b0b6c2.js"><link rel="prefetch" href="/assets/同源.html.0130244f.js"><link rel="prefetch" href="/assets/封装.html.a44459ac.js"><link rel="prefetch" href="/assets/工具.html.0e1e9ed9.js"><link rel="prefetch" href="/assets/常用前端播放器.html.92207ba3.js"><link rel="prefetch" href="/assets/常用接口.html.e958fb0f.js"><link rel="prefetch" href="/assets/异步.html.818265b6.js"><link rel="prefetch" href="/assets/快捷键.html.15caec82.js"><link rel="prefetch" href="/assets/忽略不想要提交的本地修改.html.0fe81659.js"><link rel="prefetch" href="/assets/接口.html.d98ba200.js"><link rel="prefetch" href="/assets/插件.html.1606063f.js"><link rel="prefetch" href="/assets/数组去重.html.1eb1fe35.js"><link rel="prefetch" href="/assets/服务端推送.html.d84c8d98.js"><link rel="prefetch" href="/assets/正则.html.85f9e0c7.js"><link rel="prefetch" href="/assets/类.html.43878f48.js"><link rel="prefetch" href="/assets/类型判断.html.6ab8caf9.js"><link rel="prefetch" href="/assets/路由.html.29cabbdf.js"><link rel="prefetch" href="/assets/knowledge.html.a7125f18.js"><link rel="prefetch" href="/assets/ol加载mvt.html.6409744f.js"><link rel="prefetch" href="/assets/倾斜摄影测量与BIM技术实现城市三维模型的构建与应用.html.0fd6106d.js"><link rel="prefetch" href="/assets/utils.html.36db9c41.js"><link rel="prefetch" href="/assets/bookmark.html.74e62d32.js"><link rel="prefetch" href="/assets/cesium.html.650906ed.js"><link rel="prefetch" href="/assets/cesium功能.html.4a0380d9.js"><link rel="prefetch" href="/assets/cesium常用底图.html.a26fe8f2.js"><link rel="prefetch" href="/assets/gis.html.2fbe9cd0.js"><link rel="prefetch" href="/assets/mapbox.html.965e3d31.js"><link rel="prefetch" href="/assets/openlayers.html.9930bdec.js"><link rel="prefetch" href="/assets/天地图.html.c2bf963d.js"><link rel="prefetch" href="/assets/模版.html.c64b9cf4.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/geoserver.html.e39001e9.js"><link rel="prefetch" href="/assets/gost.html.f457b210.js"><link rel="prefetch" href="/assets/python.html.8ae0eb1b.js"><link rel="prefetch" href="/assets/常用.html.19494b82.js"><link rel="prefetch" href="/assets/软路由.html.6d6d3c89.js"><link rel="prefetch" href="/assets/202312.html.44535110.js"><link rel="prefetch" href="/assets/富文本解决方案.html.f583ac06.js"><link rel="prefetch" href="/assets/_ 骨架屏方案.html.ca92c19b.js"><link rel="prefetch" href="/assets/arcgis.html.385129b8.js"><link rel="prefetch" href="/assets/awesome.html.99bc0bba.js"><link rel="prefetch" href="/assets/b.html.e4116beb.js"><link rel="prefetch" href="/assets/bigscreen.html.101a6eff.js"><link rel="prefetch" href="/assets/bun.html.a0f8dc61.js"><link rel="prefetch" href="/assets/c_.html.b18c7e5f.js"><link rel="prefetch" href="/assets/c.html.6409fb75.js"><link rel="prefetch" href="/assets/catalog.html.56c5495e.js"><link rel="prefetch" href="/assets/class.html.900eb292.js"><link rel="prefetch" href="/assets/cli.html.3b6ba547.js"><link rel="prefetch" href="/assets/cloudflare.html.0f49ca36.js"><link rel="prefetch" href="/assets/cookie_token_session的一些思考.html.0290b313.js"><link rel="prefetch" href="/assets/css.html.62a6eb90.js"><link rel="prefetch" href="/assets/docker.html.d4ac8bfc.js"><link rel="prefetch" href="/assets/download.html.42837c3c.js"><link rel="prefetch" href="/assets/express.html.cefea595.js"><link rel="prefetch" href="/assets/ffmpeg.html.9cdb22ad.js"><link rel="prefetch" href="/assets/github.html.37a25e15.js"><link rel="prefetch" href="/assets/go.html.2cfc0e29.js"><link rel="prefetch" href="/assets/icon.html.abd359b9.js"><link rel="prefetch" href="/assets/interview.html.e7b223cd.js"><link rel="prefetch" href="/assets/interview2023.html.cef0610a.js"><link rel="prefetch" href="/assets/interview2024.html.5099f77b.js"><link rel="prefetch" href="/assets/interview2other.html.7291f7ef.js"><link rel="prefetch" href="/assets/javascript.html.88599a06.js"><link rel="prefetch" href="/assets/jq.html.fcf03591.js"><link rel="prefetch" href="/assets/jquery.html.8e1d0b57.js"><link rel="prefetch" href="/assets/koa2-express-mongod-redis.html.f4faa5d3.js"><link rel="prefetch" href="/assets/linux.html.0f6aaa2d.js"><link rel="prefetch" href="/assets/lodash.html.5a6aa90c.js"><link rel="prefetch" href="/assets/mac.html.f787952c.js"><link rel="prefetch" href="/assets/mysql.html.49ba57bc.js"><link rel="prefetch" href="/assets/network.html.ccfc5259.js"><link rel="prefetch" href="/assets/networkCommand.html.e79efd1c.js"><link rel="prefetch" href="/assets/next.html.0b9c64d5.js"><link rel="prefetch" href="/assets/nginx.html.9694be11.js"><link rel="prefetch" href="/assets/node.html.97397ff6.js"><link rel="prefetch" href="/assets/npm.html.b7907b11.js"><link rel="prefetch" href="/assets/performance.html.b6d40059.js"><link rel="prefetch" href="/assets/plugin.html.22fa3a99.js"><link rel="prefetch" href="/assets/react.html.e723efc0.js"><link rel="prefetch" href="/assets/rust.html.8607ec1b.js"><link rel="prefetch" href="/assets/speedtest-cli.html.6e6b5f6b.js"><link rel="prefetch" href="/assets/sss.html.6f85d24e.js"><link rel="prefetch" href="/assets/sub.html.3623304f.js"><link rel="prefetch" href="/assets/supabase.html.89ad698f.js"><link rel="prefetch" href="/assets/tailwind.html.7c4244c6.js"><link rel="prefetch" href="/assets/trick.html.1b5e321c.js"><link rel="prefetch" href="/assets/ts.html.3f5f547e.js"><link rel="prefetch" href="/assets/turf.html.18c0f401.js"><link rel="prefetch" href="/assets/typescript.html.76d464df.js"><link rel="prefetch" href="/assets/vite.html.657151cd.js"><link rel="prefetch" href="/assets/vscode.html.9483a778.js"><link rel="prefetch" href="/assets/vue.html.51e432ba.js"><link rel="prefetch" href="/assets/vue2.html.253eb91f.js"><link rel="prefetch" href="/assets/webpack.html.5c6ffe6d.js"><link rel="prefetch" href="/assets/www.html.ca685137.js"><link rel="prefetch" href="/assets/倾斜摄影.html.a44dd818.js"><link rel="prefetch" href="/assets/原生.html.0af28d0b.js"><link rel="prefetch" href="/assets/同源.html.47c355c1.js"><link rel="prefetch" href="/assets/封装.html.556b8ebf.js"><link rel="prefetch" href="/assets/工具.html.79976dcc.js"><link rel="prefetch" href="/assets/常用前端播放器.html.256aab21.js"><link rel="prefetch" href="/assets/常用接口.html.2b3cdc0d.js"><link rel="prefetch" href="/assets/异步.html.037e943a.js"><link rel="prefetch" href="/assets/快捷键.html.7948363f.js"><link rel="prefetch" href="/assets/忽略不想要提交的本地修改.html.099445b2.js"><link rel="prefetch" href="/assets/接口.html.a9e3effc.js"><link rel="prefetch" href="/assets/插件.html.880c6a95.js"><link rel="prefetch" href="/assets/数组去重.html.f2f5b393.js"><link rel="prefetch" href="/assets/服务端推送.html.8df9057d.js"><link rel="prefetch" href="/assets/正则.html.7c0b9fe9.js"><link rel="prefetch" href="/assets/类.html.0b90b5bb.js"><link rel="prefetch" href="/assets/类型判断.html.07edcda0.js"><link rel="prefetch" href="/assets/路由.html.34ef97c4.js"><link rel="prefetch" href="/assets/knowledge.html.1703228b.js"><link rel="prefetch" href="/assets/ol加载mvt.html.678ca848.js"><link rel="prefetch" href="/assets/倾斜摄影测量与BIM技术实现城市三维模型的构建与应用.html.886e07c0.js"><link rel="prefetch" href="/assets/utils.html.6cdca3c0.js"><link rel="prefetch" href="/assets/bookmark.html.3fa0f86b.js"><link rel="prefetch" href="/assets/cesium.html.72ac4bf1.js"><link rel="prefetch" href="/assets/cesium功能.html.2e1c270f.js"><link rel="prefetch" href="/assets/cesium常用底图.html.36701526.js"><link rel="prefetch" href="/assets/gis.html.6c231fc3.js"><link rel="prefetch" href="/assets/mapbox.html.d7b45409.js"><link rel="prefetch" href="/assets/openlayers.html.3923c41d.js"><link rel="prefetch" href="/assets/天地图.html.eff880e4.js"><link rel="prefetch" href="/assets/模版.html.1cec79ba.js"><link rel="prefetch" href="/assets/404.html.d4021930.js"><link rel="prefetch" href="/assets/404.7ffbc815.js"><link rel="prefetch" href="/assets/Layout.52fea9f1.js"><link rel="prefetch" href="/assets/banner.2155af62.js"><link rel="prefetch" href="/assets/bookmark.fac51cf7.js"><link rel="prefetch" href="/assets/count.45d2e0d4.js">
    <link rel="stylesheet" href="/assets/style.ad605478.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">xesxz&#39;s blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/javascript" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/catalog" class="" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/css" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/jquery" class="" aria-label="Jquery"><!--[--><!--]--> Jquery <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/typescript" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="util"><!--[--><!--]--> util <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/a" class="" aria-label="待定"><!--[--><!--]--> 待定 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工程化</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/plugin" class="" aria-label="Plugin"><!--[--><!--]--> Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/linux" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/nginx" class="" aria-label="nginx"><!--[--><!--]--> nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/webpack" class="" aria-label="webpack&amp;vite"><!--[--><!--]--> webpack&amp;vite <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Gis"><span class="title">Gis</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Gis"><span class="title">Gis</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gis框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/cesium" class="" aria-label="Cesium"><!--[--><!--]--> Cesium <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/openlayers" class="" aria-label="Openlayers"><!--[--><!--]--> Openlayers <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/mapbox" class="" aria-label="Mapbox"><!--[--><!--]--> Mapbox <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>gis知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/knowledge" class="" aria-label="gis知识"><!--[--><!--]--> gis知识 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其他"><span class="title">其他</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其他"><span class="title">其他</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>书签</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/other/bookmark" class="" aria-label="书签"><!--[--><!--]--> 书签 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>面试</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/interview" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="js"><span class="title">js</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="js"><span class="title">js</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>js基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/js/utils" class="" aria-label="utils"><!--[--><!--]--> utils <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>容器编排工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/container/kubespray" class="" aria-label="使用kubespray部署k8s"><!--[--><!--]--> 使用kubespray部署k8s <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>通用算法</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/algorithm/double-pointer" class="" aria-label="双指针"><!--[--><!--]--> 双指针 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/vvfock3r/note" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/javascript" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/catalog" class="" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/css" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/jquery" class="" aria-label="Jquery"><!--[--><!--]--> Jquery <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/typescript" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="util"><!--[--><!--]--> util <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/a" class="" aria-label="待定"><!--[--><!--]--> 待定 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工程化</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/plugin" class="" aria-label="Plugin"><!--[--><!--]--> Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/linux" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/nginx" class="" aria-label="nginx"><!--[--><!--]--> nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/webpack" class="" aria-label="webpack&amp;vite"><!--[--><!--]--> webpack&amp;vite <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Gis"><span class="title">Gis</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Gis"><span class="title">Gis</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gis框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/cesium" class="" aria-label="Cesium"><!--[--><!--]--> Cesium <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/openlayers" class="" aria-label="Openlayers"><!--[--><!--]--> Openlayers <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/mapbox" class="" aria-label="Mapbox"><!--[--><!--]--> Mapbox <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>gis知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/knowledge" class="" aria-label="gis知识"><!--[--><!--]--> gis知识 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其他"><span class="title">其他</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其他"><span class="title">其他</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>书签</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/other/bookmark" class="" aria-label="书签"><!--[--><!--]--> 书签 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>面试</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/interview" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="js"><span class="title">js</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="js"><span class="title">js</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>js基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/js/utils" class="" aria-label="utils"><!--[--><!--]--> utils <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>容器编排工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/container/kubespray" class="" aria-label="使用kubespray部署k8s"><!--[--><!--]--> 使用kubespray部署k8s <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>通用算法</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/algorithm/double-pointer" class="" aria-label="双指针"><!--[--><!--]--> 双指针 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/vvfock3r/note" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading"> <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#前置说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="前置说明"><!--[--><!--]--> 前置说明 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_1-与数据格式转换解析相关" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 与数据格式转换解析相关"><!--[--><!--]--> 1. 与数据格式转换解析相关 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_1-1-解析和转换-wkt-几何数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1. 解析和转换 WKT 几何数据"><!--[--><!--]--> 1.1. 解析和转换 WKT 几何数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_1-2-前端直接读取-geopackage-ngageoint-geopackage" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2. 前端直接读取 GeoPackage - @ngageoint/geopackage"><!--[--><!--]--> 1.2. 前端直接读取 GeoPackage - @ngageoint/geopackage <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_1-3-前端直接读取-esri-shapefile-ts-shapefile" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3. 前端直接读取 Esri Shapefile - ts-shapefile"><!--[--><!--]--> 1.3. 前端直接读取 Esri Shapefile - ts-shapefile <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_1-4-把-gdal-搬进浏览器-gdal3-js" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.4. 把 GDAL 搬进浏览器 - gdal3.js"><!--[--><!--]--> 1.4. 把 GDAL 搬进浏览器 - gdal3.js <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_1-5-格式库小结" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.5. 格式库小结"><!--[--><!--]--> 1.5. 格式库小结 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_2-操作空间坐标系" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 操作空间坐标系"><!--[--><!--]--> 2. 操作空间坐标系 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_2-1-重投影-proj4" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1. 重投影 proj4"><!--[--><!--]--> 2.1. 重投影 proj4 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_2-2-纠-火星-、-百度-加密坐标" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2. 纠“火星”、“百度”加密坐标"><!--[--><!--]--> 2.2. 纠“火星”、“百度”加密坐标 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_2-3-空间坐标系的-wkt-定义-spatialreference" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3. 空间坐标系的 WKT 定义 - spatialreference"><!--[--><!--]--> 2.3. 空间坐标系的 WKT 定义 - spatialreference <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_2-4-空间坐标系的-proj-定义-epsg" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4. 空间坐标系的 PROJ 定义 - epsg"><!--[--><!--]--> 2.4. 空间坐标系的 PROJ 定义 - epsg <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_2-5-从坐标系定义字符串推导-wkid-get-epsg-code" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5. 从坐标系定义字符串推导 WKID - get-epsg-code"><!--[--><!--]--> 2.5. 从坐标系定义字符串推导 WKID - get-epsg-code <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_2-6-对-geojson-的重投影-reproj-helper、reproject" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6. 对 GeoJSON 的重投影 - reproj-helper、reproject"><!--[--><!--]--> 2.6. 对 GeoJSON 的重投影 - reproj-helper、reproject <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_3-简易空间分析与几何运算" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 简易空间分析与几何运算"><!--[--><!--]--> 3. 简易空间分析与几何运算 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_3-1-jts-的移植-jsts" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1. JTS 的移植 - jsts"><!--[--><!--]--> 3.1. JTS 的移植 - jsts <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_3-2-给-geojson-设计的简易版-turf-terraformer-spatial" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2. 给 GeoJSON 设计的简易版 “turf” - @terraformer/spatial"><!--[--><!--]--> 3.2. 给 GeoJSON 设计的简易版 “turf” - @terraformer/spatial <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_3-3-其他一些几何图形变换与计算库" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3. 其他一些几何图形变换与计算库"><!--[--><!--]--> 3.3. 其他一些几何图形变换与计算库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_3-4-几何空间分析库小结" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.4. 几何空间分析库小结"><!--[--><!--]--> 3.4. 几何空间分析库小结 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_4-地图库扩展" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 地图库扩展"><!--[--><!--]--> 4. 地图库扩展 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_4-1-为-ol、mapboxgl、leaflet-js-扩展绘图工具-terra-draw" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.1. 为 ol、mapboxgl、leaflet.js 扩展绘图工具 - terra-draw"><!--[--><!--]--> 4.1. 为 ol、mapboxgl、leaflet.js 扩展绘图工具 - terra-draw <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_4-2-为-leaflet-js-扩展的绘图工具" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2. 为 leaflet.js 扩展的绘图工具"><!--[--><!--]--> 4.2. 为 leaflet.js 扩展的绘图工具 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_5-杂项" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 杂项"><!--[--><!--]--> 5. 杂项 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_5-1-中国大陆行政区划编码库" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1. 中国大陆行政区划编码库"><!--[--><!--]--> 5.1. 中国大陆行政区划编码库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_5-2-为-geojson-增强类型提示-types-geojson" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2. 为 GeoJSON 增强类型提示 - @types/geojson"><!--[--><!--]--> 5.2. 为 GeoJSON 增强类型提示 - @types/geojson <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_5-3-与-wfs-类似的-ogc-feature-api-客户端实现库-ogcapi-js-features" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.3. 与 WFS 类似的 OGC Feature API 客户端实现库 - @ogcapi-js/features"><!--[--><!--]--> 5.3. 与 WFS 类似的 OGC Feature API 客户端实现库 - @ogcapi-js/features <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_5-4-操作-esri-的投影定义对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.4. 操作 Esri 的投影定义对象"><!--[--><!--]--> 5.4. 操作 Esri 的投影定义对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/%E6%B5%85%E8%B0%88%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%20WebGIS%20%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E3%80%81%E6%8F%90%E5%8D%87%E6%95%88%E7%8E%87%E7%9A%84%20js%20%E5%BA%93.html#_6-小结" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. 小结"><!--[--><!--]--> 6. 小结 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="前置说明" tabindex="-1"><a class="header-anchor" href="#前置说明" aria-hidden="true">#</a> 前置说明</h2><p>这篇介绍的在 <a href="https://github.com/sshuair/awesome-gis" title="https://github.com/sshuair/awesome-gis" target="_blank" rel="noopener noreferrer">Awesome GIS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 基本上都有，经过我的筛选，在 <code>npmjs.com</code> 上也都能找到，方便融入日益强大的 npm 生态。不过这些库大部分都保留了全局库的形式，在非框架中也能使用。有一部分是浏览器 + NodeJS 双端可用的。</p><h2 id="_1-与数据格式转换解析相关" tabindex="-1"><a class="header-anchor" href="#_1-与数据格式转换解析相关" aria-hidden="true">#</a> 1. 与数据格式转换解析相关</h2><h2 id="_1-1-解析和转换-wkt-几何数据" tabindex="-1"><a class="header-anchor" href="#_1-1-解析和转换-wkt-几何数据" aria-hidden="true">#</a> 1.1. 解析和转换 WKT 几何数据</h2><p>如果只是完成 <code>WKT</code> 与 <code>GeoJSON</code> 这两个格式之间的转换，那么下面任意一个都能完成你的任务，选库体积最小的即可。否则，就按需选择，就个人体验而言，<code>@terraformer/wkt</code> 这个库比较均衡。</p><p>下面用表格对比这几个库。</p><table><thead><tr><th></th><th>wkt</th><th>@terraformer/wkt</th><th>wkt-parser-helper</th><th>@syncpoint/wkx</th></tr></thead><tbody><tr><td>ts类型</td><td>无</td><td>有，额外安装</td><td>ts 源码</td><td>有</td></tr><tr><td>库大小</td><td>16.7 KB</td><td>86.8 KB</td><td>15.1 KB</td><td>69.7 KB</td></tr><tr><td>纯净度</td><td>0 依赖</td><td>0 依赖</td><td>1 依赖</td><td>1 依赖</td></tr><tr><td>丰富度</td><td>parse + stringify</td><td>parse + stringify</td><td>parse + stringify</td><td>丰富，还包括 WKB</td></tr><tr><td>API文档</td><td>有</td><td>有，详尽</td><td>有，详尽</td><td>有</td></tr><tr><td>更新</td><td>2019.11</td><td>2022.8</td><td>2022.8</td><td>2021.5</td></tr></tbody></table><p><code>@syncpoint/wkx</code> 是 <code>wkx</code> 这个库的改良版，主要是升级了一些过期的底层 API（适配 NodeJS）。</p><p>其实这些库的更新时间不必太在意，因为 <code>WKT</code> 这种规范已经发布多年，且足够简单，能用就行，主要是用得舒服。</p><p>库大小也并不是真正会包含在最终页面程序之中的大小，因为这些库有的用到 bundler，库大小是包含了多个文件的（例如不同模块风格的库文件、源程序文件等）。</p><h2 id="_1-2-前端直接读取-geopackage-ngageoint-geopackage" tabindex="-1"><a class="header-anchor" href="#_1-2-前端直接读取-geopackage-ngageoint-geopackage" aria-hidden="true">#</a> 1.2. 前端直接读取 GeoPackage - <code>@ngageoint/geopackage</code></h2><p><code>GeoPackage</code> 是一种基于 SQLite3 定义来的简易单文件地理数据存储格式，文件后缀名是 <code>.gpkg</code>，可以被 QGIS、ArcGIS 读取，开源免费，支持扩展。</p><blockquote><p>与 SpatialLite 均基于 SQLite3 是相似的，但是最大的不同是，SpatialLite 支持数据库的基本操作，而 GeoPackage 更像一种存粹仓库，不太像普通数据库一样能做查询。</p></blockquote><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @ngageoint/geopackage
</code></pre></div><p>这里有一个使用这个库直接在页面读取 GeoPackage 文件中地理数据的网站 <a href="http://ngageoint.github.io/geopackage-viewer-js/" title="http://ngageoint.github.io/geopackage-viewer-js/" target="_blank" rel="noopener noreferrer">GeoPackage Viewer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>此外，这个 <code>@ngageoint</code> 账户下还有一堆比较积极维护的库：</p><ul><li><code>@ngageoint/leaflet-geopackage</code> - Leaflet.js 的插件，允许把 gpkg 直接加载到 lf 地图中</li></ul><p>剩下的是一些 NodeJS 才能用的（浏览器不能用）格式转换库：</p><ul><li><code>@ngageoint/geopackage-geojson-js</code> - NodeJS 端使用，GeoJSON 和 GeoPackage 互转</li><li><code>@ngageoint/geopackage-xyz-js</code> - NodeJS 端使用，把 xyz 瓦片的 zip 包转为 GeoPackage</li><li><code>@ngageoint/geopackage-pbf-js</code> - NodeJS 端使用，把 pbf 数据转为 GeoPackage</li><li><code>@ngageoint/geopackage-mbtiles-js</code> - NodeJS 端使用，把 mbtiles 数据转为 GeoPackage</li><li><code>@ngageoint/geopackage-csv-js</code> - NodeJS 端使用，把 csv 数据转为 GeoPackage</li><li><code>@ngageoint/geopackage-shapefile-js</code> - NodeJS 端使用，把 shapefile zip 文件转为 GeoPackage</li></ul><h2 id="_1-3-前端直接读取-esri-shapefile-ts-shapefile" tabindex="-1"><a class="header-anchor" href="#_1-3-前端直接读取-esri-shapefile-ts-shapefile" aria-hidden="true">#</a> 1.3. 前端直接读取 Esri Shapefile - <code>ts-shapefile</code></h2><p>Shapefile 是 Esri 的杰作，是一种多文件的数据格式，虽然我在各种场合不遗余力地推荐大家使用新的数据格式，但是总是有一些人还在问前端能不能解析 Shapefile。这个库源代码使用 TypeScript 编写，打包后支持类型提示（自带 <code>d.ts</code>）。</p><p>用于浏览器的打包库文件大约 100+ KB，可以接受。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> ts-shapefile
</code></pre></div><p>这个库的用法要到 GitHub 仓库看 <a href="https://github.com/oyvindi/ts-shapefile" title="https://github.com/oyvindi/ts-shapefile" target="_blank" rel="noopener noreferrer">README<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>注意，Shapefile 规范本体并不含坐标系，所以本库不解析 <code>.prj</code> 文件中的坐标系信息。坐标系的操作库可以看本文第二节。</p><p>Mapbox 团队有一个用于写入 Shapefile 并下载为 zip 的库可供参考（纯 js，浏览器可用）：<a href="https://github.com/mapbox/shp-write" title="https://github.com/mapbox/shp-write" target="_blank" rel="noopener noreferrer">shp-write<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>注意，部分 npm 上的 shapefile 库是 NodeJS 后端库，浏览器不可用，例如 <code>shp2json</code>、<code>shp-write-stream</code>、<code>shp-stream</code> 等</p></blockquote><h2 id="_1-4-把-gdal-搬进浏览器-gdal3-js" tabindex="-1"><a class="header-anchor" href="#_1-4-把-gdal-搬进浏览器-gdal3-js" aria-hidden="true">#</a> 1.4. 把 GDAL 搬进浏览器 - <code>gdal3.js</code></h2><p>GIS 开发界 GDAL 可谓是祖师爷级别的库，它为多种空间数据格式提供了驱动程序（解析器），集成了一些简单的算法实现。</p><p>与 npm 上的 <a href="https://www.npmjs.com/package/gdal" title="https://www.npmjs.com/package/gdal" target="_blank" rel="noopener noreferrer">gdal<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 库不同，<code>gdal</code> 库是 NodeJS 对 GDAL 的接口绑定，是后端库，浏览器不可用。（p.s，<a href="https://www.npmjs.com/package/gdal-async" title="https://www.npmjs.com/package/gdal-async" target="_blank" rel="noopener noreferrer">gdal-async<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 解决了 gdal 库非异步的问题，然而浏览器还是用不了）。</p><p>这个 <a href="https://www.npmjs.com/package/gdal3.js" title="https://www.npmjs.com/package/gdal3.js" target="_blank" rel="noopener noreferrer">gdal3.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 使用 <code>emscripten</code> 把 GDAL 转成了 <code>WebAssembly</code>，这样浏览器就能使用 GDAL 了，不过与绑定版本性能还是有所差异的。这个库的源码使用 TypeScript 编写。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> gdal3.js
</code></pre></div><p>由于支持了多种格式，携带的 WebAssembly 文件略多，这个库的体积也膨胀到了 <code>38.4 MB</code>，浏览器真的想用请谨慎考虑。</p><p>文档很详尽，因为携带了 wasm 等额外文件，所以在打包环境使用也要注意文件的拷贝，很时髦地在文档中告知了 Webpack、Vite 环境的浏览器应用应该怎么做。</p><h2 id="_1-5-格式库小结" tabindex="-1"><a class="header-anchor" href="#_1-5-格式库小结" aria-hidden="true">#</a> 1.5. 格式库小结</h2><p>我在很多场合都表明：浏览器 + JavaScript 不应用于重度的数据转换，所以大部分重量级的格式转换应该由后端程序完成，其它语言（运行时）有更出色的实现，例如 C++、Java、C#.NET、Rustlang、NodeJS、Python 都有。</p><p>在浏览器端有时候是不得而为之。应付一些简单的格式转换还是能胜任的。</p><h2 id="_2-操作空间坐标系" tabindex="-1"><a class="header-anchor" href="#_2-操作空间坐标系" aria-hidden="true">#</a> 2. 操作空间坐标系</h2><h2 id="_2-1-重投影-proj4" tabindex="-1"><a class="header-anchor" href="#_2-1-重投影-proj4" aria-hidden="true">#</a> 2.1. 重投影 <code>proj4</code></h2><p>著名 C++ 投影库 <code>PROJ</code> 的 JavaScript 版本，ts 类型需要额外安装 <code>@types/proj4</code>。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> proj4
</code></pre></div><p>这个库仅支持单个坐标的转换，对于复杂的数据格式投影转换，需要借助更高层级的封装库，见下文。</p><h2 id="_2-2-纠-火星-、-百度-加密坐标" tabindex="-1"><a class="header-anchor" href="#_2-2-纠-火星-、-百度-加密坐标" aria-hidden="true">#</a> 2.2. 纠“火星”、“百度”加密坐标</h2><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> gcoord
</code></pre></div><p>国人开发的专门解决 “火星”、“百度” 等加密算法的问题。坊间通常称他们 “火星坐标系”、“百度坐标系”，实际上只是一些非公开的加密算法，这个库能将加密后的坐标通过拟合的方式比较准确地纠正。</p><p>其官方文档指出支持坐标数组和 GeoJSON 的转换。</p><h2 id="_2-3-空间坐标系的-wkt-定义-spatialreference" tabindex="-1"><a class="header-anchor" href="#_2-3-空间坐标系的-wkt-定义-spatialreference" aria-hidden="true">#</a> 2.3. 空间坐标系的 WKT 定义 - <code>spatialreference</code></h2><p>这个库并不是拿来做数据坐标系转换的，而是根据 <code>WKID</code> 取坐标系的 WKT 定义用的。</p><p>它没有 ts 定义，这是比较可惜的一点。它的默认查询模式需要联网，通过 <code>epsg.io</code> 在线 API 请求查询，所以在大陆环境可能有影响。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> spatialreference
</code></pre></div><p>用法举例：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token constant">SR</span> <span class="token keyword">from</span> <span class="token string">&#39;spatialreference&#39;</span>

<span class="token keyword">new</span> <span class="token class-name">SR</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wkidToWkt</span><span class="token punctuation">(</span><span class="token number">4326</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> wkt</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wkt<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这个库还支持在传入对象中添加数据库方面的数据，参考它的文档，允许从数据库中获取 WKT。</p><h2 id="_2-4-空间坐标系的-proj-定义-epsg" tabindex="-1"><a class="header-anchor" href="#_2-4-空间坐标系的-proj-定义-epsg" aria-hidden="true">#</a> 2.4. 空间坐标系的 PROJ 定义 - <code>epsg</code></h2><p>如果你没有在线环境，用不了 2.3 的库，那么可以使用 <code>epsg</code> 库获得坐标系的 <code>PROJ4</code> 定义。这个库自带了一个 JSON 字典。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> epsg
</code></pre></div><p>例子：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> epsg <span class="token keyword">from</span> <span class="token string">&#39;epsg&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>epsg<span class="token punctuation">[</span><span class="token string">&#39;EPSG:3857&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs</span>
</code></pre></div><p>这个库是 commonjs 模块，需要借助 bundle 转换。</p><h2 id="_2-5-从坐标系定义字符串推导-wkid-get-epsg-code" tabindex="-1"><a class="header-anchor" href="#_2-5-从坐标系定义字符串推导-wkid-get-epsg-code" aria-hidden="true">#</a> 2.5. 从坐标系定义字符串推导 WKID - <code>get-epsg-code</code></h2><p>这个与 2.3、2.4 就是相反的操作了。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> get-epsg-code
</code></pre></div><p>例子：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> getEPSGCode <span class="token keyword">from</span> <span class="token string">&#39;get-epsg-code&#39;</span>

<span class="token keyword">const</span> proj4string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">const</span> wkid <span class="token operator">=</span> <span class="token function">getEPSGCode</span><span class="token punctuation">(</span>proj4string<span class="token punctuation">)</span>
<span class="token comment">// 3857</span>
</code></pre></div><p>它的文档说支持几乎所有格式，WKT、proj4、esriproj 均可尝试：<a href="https://get-epsg-code.netlify.app/" title="https://get-epsg-code.netlify.app/" target="_blank" rel="noopener noreferrer">在线测试<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h2 id="_2-6-对-geojson-的重投影-reproj-helper、reproject" tabindex="-1"><a class="header-anchor" href="#_2-6-对-geojson-的重投影-reproj-helper、reproject" aria-hidden="true">#</a> 2.6. 对 GeoJSON 的重投影 - <code>reproj-helper</code>、<code>reproject</code></h2><p>前者由 TypeScript 写成，在其 <code>dist/</code> 下的打包成果文件中，是将 <code>proj4</code> 打包进去了，所以体积会略大（因为 <code>proj4</code> 本身就有 900+KB），好处是 API、说明文档较齐全，也有类型提示，不过缺点是对 GeoJSON 没有使用定义，而是粗暴地设为 <code>any</code>。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> reproj-helper
</code></pre></div><p>举例：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token constant">RH</span> <span class="token keyword">from</span> <span class="token string">&#39;reproj-helper&#39;</span>

<span class="token keyword">const</span> pointFeature <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Feature&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;geometry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;coordinates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token number">27.896140109578766</span><span class="token punctuation">,</span>
      <span class="token number">20.219492193232625</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Point&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> rp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RH<span class="token punctuation">.</span>ReProjector</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
rp<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&#39;4326&#39;</span><span class="token punctuation">)</span>
rp<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">&#39;3857&#39;</span><span class="token punctuation">)</span>
rp<span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span>pointFeature<span class="token punctuation">)</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> rp<span class="token punctuation">.</span><span class="token function">project</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>后者就比较轻量化了，发布到 npmjs.com 上的包不含打包成果，但是在安装依赖时也会把 <code>proj4</code> 安装进来，专心于 GeoJSON 对象的转换，支持校验 GeoJSON 是否存在坐标系定义。这个就没有 ts 类型提示了：</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> reproject
</code></pre></div><p>举例：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reproject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;reproject&#39;</span>

<span class="token keyword">const</span> pointFeature <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Feature&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;geometry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;coordinates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token number">27.896140109578766</span><span class="token punctuation">,</span>
      <span class="token number">20.219492193232625</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Point&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">reproject</span><span class="token punctuation">(</span>
  pointFeature<span class="token punctuation">,</span>
  <span class="token string">&#39;+proj=longlat +datum=WGS84 +no_defs +type=crs&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;+proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext +no_defs +type=crs&#39;</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_3-简易空间分析与几何运算" tabindex="-1"><a class="header-anchor" href="#_3-简易空间分析与几何运算" aria-hidden="true">#</a> 3. 简易空间分析与几何运算</h2><h2 id="_3-1-jts-的移植-jsts" tabindex="-1"><a class="header-anchor" href="#_3-1-jts-的移植-jsts" aria-hidden="true">#</a> 3.1. JTS 的移植 - <code>jsts</code></h2><p>JTS 有个 C++ 的儿子 <code>GEOS</code>，然后又有个 JavaScript 的儿子 <code>jsts</code>。<code>JTS</code> 是 Java 编写的几何库，其地位无需多言。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> jsts
<span class="token function">pnpm</span> <span class="token function">add</span> @types/jsts <span class="token parameter variable">-D</span>
</code></pre></div><p>之前写过一篇如何用它的文章，以缓冲分析为例：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> JSTSWKTReader <span class="token keyword">from</span> <span class="token string">&#39;jsts/org/locationtech/jts/io/WKTReader&#39;</span>
<span class="token keyword">import</span> JSTSGeoJSONWriter <span class="token keyword">from</span> <span class="token string">&#39;jsts/org/locationtech/jts/io/GeoJSONWriter&#39;</span>
<span class="token keyword">import</span> JSTSBufferOp <span class="token keyword">from</span> <span class="token string">&#39;jsts/org/locationtech/jts/operation/buffer/BufferOp&#39;</span>
 ​
<span class="token keyword">const</span> wkt <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">POINT (0 0)</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">const</span> bufferCenter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSTSWKTReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>wkt<span class="token punctuation">)</span>
<span class="token keyword">const</span> bufferResult <span class="token operator">=</span> JSTSBufferOp<span class="token punctuation">.</span><span class="token function">bufferOp</span><span class="token punctuation">(</span>
  bufferCenter<span class="token punctuation">,</span>
  <span class="token number">10</span>
<span class="token punctuation">)</span> <span class="token comment">// instanceof Geometry</span>
 ​
<span class="token keyword">const</span> bufferResultGeoJSON <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSTSGeoJSONWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bufferResult<span class="token punctuation">)</span>
</code></pre></div><p>如果不熟悉其包结构和 JTS 的用法，我不是很推荐直接上手使用 jsts。</p><h2 id="_3-2-给-geojson-设计的简易版-turf-terraformer-spatial" tabindex="-1"><a class="header-anchor" href="#_3-2-给-geojson-设计的简易版-turf-terraformer-spatial" aria-hidden="true">#</a> 3.2. 给 GeoJSON 设计的简易版 “turf” - <code>@terraformer/spatial</code></h2><p>上文介绍 WKT 库时这个 <code>@terraformer</code> 账号有出现。这个库可以简易地对 GeoJSON 对象进行简单的空间分析，可以说是一个简单版本的 turf：</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @terraformer/spatial
</code></pre></div><p>它的类型库需要额外安装 <code>@types/terraformer__spatial -D</code>。</p><p>它具备 <code>applyConverter</code>（GeoJSON 要素顶点遍历器）、<code>intersects</code>、<code>convexHull</code>、<code>contains</code> 等非常简单的分析功能，见其 README 文档。</p><h2 id="_3-3-其他一些几何图形变换与计算库" tabindex="-1"><a class="header-anchor" href="#_3-3-其他一些几何图形变换与计算库" aria-hidden="true">#</a> 3.3. 其他一些几何图形变换与计算库</h2><p>接下来这些几何库的 “GIS” 血缘就比较淡了，不过辅助用用也还是可以的。</p><table><thead><tr><th></th><th>类型提示</th><th>库大小</th><th>丰富度</th><th>文档</th><th>用途建议</th></tr></thead><tbody><tr><td>earcut</td><td>额外安装</td><td>95.2 KB</td><td>专一功能</td><td>齐备</td><td>离散几何多边形的三角化，生成三角网格</td></tr><tr><td>hextile</td><td>无</td><td>小于 50KB</td><td>专一功能</td><td>基本齐全</td><td>生成渔网（支持若干种内置形状）</td></tr><tr><td>geometric</td><td>额外安装</td><td>107 KB</td><td>中等</td><td>齐备</td><td>简单几何运算，替代部分 turf 需求</td></tr><tr><td>@flatten-js/core</td><td>ts 源码</td><td>5.68 MB</td><td>丰富</td><td>完善</td><td>应对较为复杂几何图形的几何计算</td></tr><tr><td>geometry-extrude</td><td>ts 源码</td><td>288 KB</td><td>专一功能</td><td>齐备</td><td>挤出 polygon 成体，并三角化；基于 earcut</td></tr><tr><td>simplepolygon</td><td>无</td><td>36.6 KB</td><td>专一功能</td><td>齐备</td><td>处理 GeoJSON。将复杂的（即自交的）GeoJSON 多边形，分解为复合的简单、非自交的单环多边形。见 README</td></tr></tbody></table><h2 id="_3-4-几何空间分析库小结" tabindex="-1"><a class="header-anchor" href="#_3-4-几何空间分析库小结" aria-hidden="true">#</a> 3.4. 几何空间分析库小结</h2><p>其实上述这些库还远远不够，开源社区总能找到宝藏，不过应该也足够使用了。我为什么没有把 <code>turf</code> 列出来呢？是因为 turf 的算法准确性、性能实在是拿不出手，群友们都反馈过这个问题，能不用还是尽量不要用了。</p><p>而且，复杂的几何计算我觉得还是交给后台计算程序比较好，前端能运算的终究有限。</p><h2 id="_4-地图库扩展" tabindex="-1"><a class="header-anchor" href="#_4-地图库扩展" aria-hidden="true">#</a> 4. 地图库扩展</h2><h2 id="_4-1-为-ol、mapboxgl、leaflet-js-扩展绘图工具-terra-draw" tabindex="-1"><a class="header-anchor" href="#_4-1-为-ol、mapboxgl、leaflet-js-扩展绘图工具-terra-draw" aria-hidden="true">#</a> 4.1. 为 ol、mapboxgl、leaflet.js 扩展绘图工具 - <code>terra-draw</code></h2><p>这个库是前端几个地图库（支持 OpenLayers V7、Leaflet.js V1.9、MapboxGL V2、Maplibre V2、GoogleMapAPI V3）的插件，由 TypeScript 写成，文档齐全，也有在线例子。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> terra-draw
</code></pre></div><p>在我写这篇文章时，它还在 alpha 阶段，不过可用性已经很不错了。官方示例指路：<a href="https://www.terradraw.io/" title="https://www.terradraw.io/" target="_blank" rel="noopener noreferrer">TerraDraw<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_4-2-为-leaflet-js-扩展的绘图工具" tabindex="-1"><a class="header-anchor" href="#_4-2-为-leaflet-js-扩展的绘图工具" aria-hidden="true">#</a> 4.2. 为 leaflet.js 扩展的绘图工具</h2><p>如题。这个绘图插件很强大，基本满足绝大多数 2D 绘制要求，体积也来到了 450 KB+。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @geoman-io/leaflet-geoman-free
</code></pre></div><p>由 TypeScript 编写，支持多国语言，具有十分完善的文档。不过，它自带的按钮对于某些场景可能不太合适使用了（想自定义按钮样式、UI 逻辑的情况）。总体来说我打 98 分。</p><h2 id="_5-杂项" tabindex="-1"><a class="header-anchor" href="#_5-杂项" aria-hidden="true">#</a> 5. 杂项</h2><h2 id="_5-1-中国大陆行政区划编码库" tabindex="-1"><a class="header-anchor" href="#_5-1-中国大陆行政区划编码库" aria-hidden="true">#</a> 5.1. 中国大陆行政区划编码库</h2><p>这个像个字典，小型项目（不具备数据库接口调用条件）适合使用。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> china-region
</code></pre></div><p>另有带类型提示的版本 <code>china-regions-ts</code>，不过我个人建议在找这类行政编码库时，尽量找最新版的。</p><h2 id="_5-2-为-geojson-增强类型提示-types-geojson" tabindex="-1"><a class="header-anchor" href="#_5-2-为-geojson-增强类型提示-types-geojson" aria-hidden="true">#</a> 5.2. 为 GeoJSON 增强类型提示 - <code>@types/geojson</code></h2><p>这个可以替代 GeoJSON 各级对象在你 TypeScript 项目中的 <code>any</code> 问题，注意要安装到开发依赖，这东西只是个类型库。</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @types/geojson <span class="token parameter variable">-D</span>
</code></pre></div><p>用法简单：</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Polygon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;geojson&#39;</span>

<span class="token comment">// ...</span>
</code></pre></div><h2 id="_5-3-与-wfs-类似的-ogc-feature-api-客户端实现库-ogcapi-js-features" tabindex="-1"><a class="header-anchor" href="#_5-3-与-wfs-类似的-ogc-feature-api-客户端实现库-ogcapi-js-features" aria-hidden="true">#</a> 5.3. 与 WFS 类似的 OGC Feature API 客户端实现库 - <code>@ogcapi-js/features</code></h2><p>OGC API 是什么我之前写过一篇入门介绍，是 OGC 正在开发推进的下一代 GIS 网络规范，涵盖方方面面。其中，<code>OGC Feature API</code> 就是 <code>WFS</code> 的下一代规范，也即原来打算的 <code>WFS 3.0</code>。</p><p>当满足 OGC Feature API 的服务启动后，可以用这个包来调用 <code>OGC Feature API</code> 规范定义的功能。</p><blockquote><p>当前 OGC API 仍未完全落定，以最新版为准，可以关注 <code>@ogcapi-js</code> 这个账户下的新包。</p></blockquote><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @ogcapi-js/features
</code></pre></div><p>用法也很简单。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Service <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@ogcapi-js/features</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 创建一个服务对象</span>
<span class="token keyword">const</span> service <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Service</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseUrl</span><span class="token operator">:</span> <span class="token string">&#39;https://ogcapi.service.com&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 调用接口获取数据集清单</span>
<span class="token keyword">const</span> collections <span class="token operator">=</span> <span class="token keyword">await</span> services<span class="token punctuation">.</span><span class="token function">getCollections</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-4-操作-esri-的投影定义对象" tabindex="-1"><a class="header-anchor" href="#_5-4-操作-esri-的投影定义对象" aria-hidden="true">#</a> 5.4. 操作 Esri 的投影定义对象</h2><p>Esri 用户的小工具，不过也适用于部分需要坐标系 WKT 的场景，暴露一个 lookup 函数，传入 WKID 来查找坐标系对象：</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @esri/proj-codes
</code></pre></div><p>这个包略大，如无必要则不用，查找坐标系的工作应该让后端数据库完成。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> codes <span class="token keyword">from</span> <span class="token string">&#39;@esri/proj-codes&#39;</span>

<span class="token keyword">const</span> crs <span class="token operator">=</span> codes<span class="token punctuation">.</span><span class="token function">lookup</span><span class="token punctuation">(</span><span class="token number">3857</span><span class="token punctuation">)</span>

crs<span class="token punctuation">.</span>name
<span class="token comment">// &#39;WGS_1984_Web_Mercator_Auxiliary_Sphere&#39;</span>

crs<span class="token punctuation">.</span>wkt
<span class="token comment">// &#39;PROJCS[&quot;WGS_1984_Web_Mercator_Auxiliary_Sphere&quot;,GEOGCS[&quot;GCS_WGS_1984&quot;...&#39;</span>

crs<span class="token punctuation">.</span>description
<span class="token comment">// &#39;WGS 1984 Web Mercator Major Auxiliary Sphere&#39;</span>

crs<span class="token punctuation">.</span>authority
<span class="token comment">// &#39;EPSG&#39;</span>

crs<span class="token punctuation">.</span>deprecated
<span class="token comment">// &#39;no&#39;</span>

crs<span class="token punctuation">.</span>extent
<span class="token comment">// { &quot;slat&quot;: -85.06, &quot;nlat&quot;: 85.06, &quot;llon&quot;: -180.0, &quot;rlon&quot;: 180.0 }</span>

<span class="token comment">// this works too</span>
codes<span class="token punctuation">.</span><span class="token function">lookup</span><span class="token punctuation">(</span><span class="token number">3857</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name
<span class="token comment">// &#39;WGS_1984_Web_Mercator_Auxiliary_Sphere&#39;</span>
</code></pre></div><h2 id="_6-小结" tabindex="-1"><a class="header-anchor" href="#_6-小结" aria-hidden="true">#</a> 6. 小结</h2><p>这篇主要以浏览器前端为主，其实有一部分库在 NodeJS 后端也能用，譬如坐标系、格式转换、几何空间分析等。单独给后端 NodeJS 的也有，数据库、格式转换、图像算法的偏多，不过也逐渐淡去了 GIS 血缘，有机会再介绍吧。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zhanglei@cdgis.cc">张磊</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.ace0dae9.js" defer></script>
  </body>
</html>
