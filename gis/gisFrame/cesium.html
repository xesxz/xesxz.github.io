<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"><title>cesium | xesxz's blog</title><meta name="description" content="让努力看得见~">
    <link rel="modulepreload" href="/assets/app.ace0dae9.js"><link rel="modulepreload" href="/assets/cesium.html.72ac4bf1.js"><link rel="modulepreload" href="/assets/cesium.html.650906ed.js"><link rel="prefetch" href="/assets/geoserver.html.826cc567.js"><link rel="prefetch" href="/assets/gost.html.26d8c9f0.js"><link rel="prefetch" href="/assets/python.html.04ae3443.js"><link rel="prefetch" href="/assets/常用.html.9200aa10.js"><link rel="prefetch" href="/assets/软路由.html.bc1bdf39.js"><link rel="prefetch" href="/assets/202312.html.56411c49.js"><link rel="prefetch" href="/assets/富文本解决方案.html.23c0d743.js"><link rel="prefetch" href="/assets/_ 骨架屏方案.html.821caa5c.js"><link rel="prefetch" href="/assets/arcgis.html.492f70a5.js"><link rel="prefetch" href="/assets/awesome.html.4460d1e2.js"><link rel="prefetch" href="/assets/b.html.889110a5.js"><link rel="prefetch" href="/assets/bigscreen.html.05f4ffc4.js"><link rel="prefetch" href="/assets/bun.html.a96e48b3.js"><link rel="prefetch" href="/assets/c_.html.220c80e9.js"><link rel="prefetch" href="/assets/c.html.9c96a797.js"><link rel="prefetch" href="/assets/catalog.html.a4ec461d.js"><link rel="prefetch" href="/assets/class.html.0bcbd2dc.js"><link rel="prefetch" href="/assets/cli.html.37c014bf.js"><link rel="prefetch" href="/assets/cloudflare.html.a3fbd0f5.js"><link rel="prefetch" href="/assets/cookie_token_session的一些思考.html.85c95585.js"><link rel="prefetch" href="/assets/css.html.7ff6a04c.js"><link rel="prefetch" href="/assets/docker.html.7973b276.js"><link rel="prefetch" href="/assets/download.html.0a9bf833.js"><link rel="prefetch" href="/assets/express.html.2beeef65.js"><link rel="prefetch" href="/assets/ffmpeg.html.0692c5c5.js"><link rel="prefetch" href="/assets/github.html.a05e6616.js"><link rel="prefetch" href="/assets/go.html.ab716f29.js"><link rel="prefetch" href="/assets/icon.html.b15c87be.js"><link rel="prefetch" href="/assets/interview.html.1c8b5b14.js"><link rel="prefetch" href="/assets/interview2023.html.9220b9fc.js"><link rel="prefetch" href="/assets/interview2024.html.1cad9163.js"><link rel="prefetch" href="/assets/interview2other.html.bbe4e2d8.js"><link rel="prefetch" href="/assets/javascript.html.122f5849.js"><link rel="prefetch" href="/assets/jq.html.e842d231.js"><link rel="prefetch" href="/assets/jquery.html.e6ba0a4c.js"><link rel="prefetch" href="/assets/koa2-express-mongod-redis.html.7515fc65.js"><link rel="prefetch" href="/assets/linux.html.c50918d6.js"><link rel="prefetch" href="/assets/lodash.html.e6ec84b5.js"><link rel="prefetch" href="/assets/mac.html.911e183c.js"><link rel="prefetch" href="/assets/mysql.html.b6e3cdd4.js"><link rel="prefetch" href="/assets/network.html.9f0d2773.js"><link rel="prefetch" href="/assets/networkCommand.html.7e1d62b6.js"><link rel="prefetch" href="/assets/next.html.a34e0f35.js"><link rel="prefetch" href="/assets/nginx.html.94b16498.js"><link rel="prefetch" href="/assets/node.html.bf247906.js"><link rel="prefetch" href="/assets/npm.html.f7b56202.js"><link rel="prefetch" href="/assets/performance.html.fa501653.js"><link rel="prefetch" href="/assets/plugin.html.3ddf712c.js"><link rel="prefetch" href="/assets/react.html.ac76e46a.js"><link rel="prefetch" href="/assets/rust.html.8189e076.js"><link rel="prefetch" href="/assets/speedtest-cli.html.8103b9db.js"><link rel="prefetch" href="/assets/sss.html.9be5696f.js"><link rel="prefetch" href="/assets/sub.html.c4df394d.js"><link rel="prefetch" href="/assets/supabase.html.73070eb1.js"><link rel="prefetch" href="/assets/tailwind.html.7c44cf1e.js"><link rel="prefetch" href="/assets/trick.html.ab584e92.js"><link rel="prefetch" href="/assets/ts.html.7565581f.js"><link rel="prefetch" href="/assets/turf.html.1f7aabcd.js"><link rel="prefetch" href="/assets/typescript.html.d38370a2.js"><link rel="prefetch" href="/assets/vite.html.a2497485.js"><link rel="prefetch" href="/assets/vscode.html.0e9bac79.js"><link rel="prefetch" href="/assets/vue.html.956c4a3e.js"><link rel="prefetch" href="/assets/vue2.html.6b74199d.js"><link rel="prefetch" href="/assets/webpack.html.f4cbab1a.js"><link rel="prefetch" href="/assets/www.html.e55ec298.js"><link rel="prefetch" href="/assets/倾斜摄影.html.cc83fcde.js"><link rel="prefetch" href="/assets/原生.html.c7b0b6c2.js"><link rel="prefetch" href="/assets/同源.html.0130244f.js"><link rel="prefetch" href="/assets/封装.html.a44459ac.js"><link rel="prefetch" href="/assets/工具.html.0e1e9ed9.js"><link rel="prefetch" href="/assets/常用前端播放器.html.92207ba3.js"><link rel="prefetch" href="/assets/常用接口.html.e958fb0f.js"><link rel="prefetch" href="/assets/异步.html.818265b6.js"><link rel="prefetch" href="/assets/快捷键.html.15caec82.js"><link rel="prefetch" href="/assets/忽略不想要提交的本地修改.html.0fe81659.js"><link rel="prefetch" href="/assets/接口.html.d98ba200.js"><link rel="prefetch" href="/assets/插件.html.1606063f.js"><link rel="prefetch" href="/assets/数组去重.html.1eb1fe35.js"><link rel="prefetch" href="/assets/服务端推送.html.d84c8d98.js"><link rel="prefetch" href="/assets/正则.html.85f9e0c7.js"><link rel="prefetch" href="/assets/类.html.43878f48.js"><link rel="prefetch" href="/assets/类型判断.html.6ab8caf9.js"><link rel="prefetch" href="/assets/路由.html.29cabbdf.js"><link rel="prefetch" href="/assets/knowledge.html.a7125f18.js"><link rel="prefetch" href="/assets/ol加载mvt.html.6409744f.js"><link rel="prefetch" href="/assets/倾斜摄影测量与BIM技术实现城市三维模型的构建与应用.html.0fd6106d.js"><link rel="prefetch" href="/assets/utils.html.36db9c41.js"><link rel="prefetch" href="/assets/bookmark.html.74e62d32.js"><link rel="prefetch" href="/assets/cesium功能.html.4a0380d9.js"><link rel="prefetch" href="/assets/cesium常用底图.html.a26fe8f2.js"><link rel="prefetch" href="/assets/gis.html.2fbe9cd0.js"><link rel="prefetch" href="/assets/mapbox.html.965e3d31.js"><link rel="prefetch" href="/assets/openlayers.html.9930bdec.js"><link rel="prefetch" href="/assets/天地图.html.c2bf963d.js"><link rel="prefetch" href="/assets/模版.html.c64b9cf4.js"><link rel="prefetch" href="/assets/浅谈浏览器端 WebGIS 开发可能会用到的、提升效率的 js 库.html.54a2500f.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/geoserver.html.e39001e9.js"><link rel="prefetch" href="/assets/gost.html.f457b210.js"><link rel="prefetch" href="/assets/python.html.8ae0eb1b.js"><link rel="prefetch" href="/assets/常用.html.19494b82.js"><link rel="prefetch" href="/assets/软路由.html.6d6d3c89.js"><link rel="prefetch" href="/assets/202312.html.44535110.js"><link rel="prefetch" href="/assets/富文本解决方案.html.f583ac06.js"><link rel="prefetch" href="/assets/_ 骨架屏方案.html.ca92c19b.js"><link rel="prefetch" href="/assets/arcgis.html.385129b8.js"><link rel="prefetch" href="/assets/awesome.html.99bc0bba.js"><link rel="prefetch" href="/assets/b.html.e4116beb.js"><link rel="prefetch" href="/assets/bigscreen.html.101a6eff.js"><link rel="prefetch" href="/assets/bun.html.a0f8dc61.js"><link rel="prefetch" href="/assets/c_.html.b18c7e5f.js"><link rel="prefetch" href="/assets/c.html.6409fb75.js"><link rel="prefetch" href="/assets/catalog.html.56c5495e.js"><link rel="prefetch" href="/assets/class.html.900eb292.js"><link rel="prefetch" href="/assets/cli.html.3b6ba547.js"><link rel="prefetch" href="/assets/cloudflare.html.0f49ca36.js"><link rel="prefetch" href="/assets/cookie_token_session的一些思考.html.0290b313.js"><link rel="prefetch" href="/assets/css.html.62a6eb90.js"><link rel="prefetch" href="/assets/docker.html.d4ac8bfc.js"><link rel="prefetch" href="/assets/download.html.42837c3c.js"><link rel="prefetch" href="/assets/express.html.cefea595.js"><link rel="prefetch" href="/assets/ffmpeg.html.9cdb22ad.js"><link rel="prefetch" href="/assets/github.html.37a25e15.js"><link rel="prefetch" href="/assets/go.html.2cfc0e29.js"><link rel="prefetch" href="/assets/icon.html.abd359b9.js"><link rel="prefetch" href="/assets/interview.html.e7b223cd.js"><link rel="prefetch" href="/assets/interview2023.html.cef0610a.js"><link rel="prefetch" href="/assets/interview2024.html.5099f77b.js"><link rel="prefetch" href="/assets/interview2other.html.7291f7ef.js"><link rel="prefetch" href="/assets/javascript.html.88599a06.js"><link rel="prefetch" href="/assets/jq.html.fcf03591.js"><link rel="prefetch" href="/assets/jquery.html.8e1d0b57.js"><link rel="prefetch" href="/assets/koa2-express-mongod-redis.html.f4faa5d3.js"><link rel="prefetch" href="/assets/linux.html.0f6aaa2d.js"><link rel="prefetch" href="/assets/lodash.html.5a6aa90c.js"><link rel="prefetch" href="/assets/mac.html.f787952c.js"><link rel="prefetch" href="/assets/mysql.html.49ba57bc.js"><link rel="prefetch" href="/assets/network.html.ccfc5259.js"><link rel="prefetch" href="/assets/networkCommand.html.e79efd1c.js"><link rel="prefetch" href="/assets/next.html.0b9c64d5.js"><link rel="prefetch" href="/assets/nginx.html.9694be11.js"><link rel="prefetch" href="/assets/node.html.97397ff6.js"><link rel="prefetch" href="/assets/npm.html.b7907b11.js"><link rel="prefetch" href="/assets/performance.html.b6d40059.js"><link rel="prefetch" href="/assets/plugin.html.22fa3a99.js"><link rel="prefetch" href="/assets/react.html.e723efc0.js"><link rel="prefetch" href="/assets/rust.html.8607ec1b.js"><link rel="prefetch" href="/assets/speedtest-cli.html.6e6b5f6b.js"><link rel="prefetch" href="/assets/sss.html.6f85d24e.js"><link rel="prefetch" href="/assets/sub.html.3623304f.js"><link rel="prefetch" href="/assets/supabase.html.89ad698f.js"><link rel="prefetch" href="/assets/tailwind.html.7c4244c6.js"><link rel="prefetch" href="/assets/trick.html.1b5e321c.js"><link rel="prefetch" href="/assets/ts.html.3f5f547e.js"><link rel="prefetch" href="/assets/turf.html.18c0f401.js"><link rel="prefetch" href="/assets/typescript.html.76d464df.js"><link rel="prefetch" href="/assets/vite.html.657151cd.js"><link rel="prefetch" href="/assets/vscode.html.9483a778.js"><link rel="prefetch" href="/assets/vue.html.51e432ba.js"><link rel="prefetch" href="/assets/vue2.html.253eb91f.js"><link rel="prefetch" href="/assets/webpack.html.5c6ffe6d.js"><link rel="prefetch" href="/assets/www.html.ca685137.js"><link rel="prefetch" href="/assets/倾斜摄影.html.a44dd818.js"><link rel="prefetch" href="/assets/原生.html.0af28d0b.js"><link rel="prefetch" href="/assets/同源.html.47c355c1.js"><link rel="prefetch" href="/assets/封装.html.556b8ebf.js"><link rel="prefetch" href="/assets/工具.html.79976dcc.js"><link rel="prefetch" href="/assets/常用前端播放器.html.256aab21.js"><link rel="prefetch" href="/assets/常用接口.html.2b3cdc0d.js"><link rel="prefetch" href="/assets/异步.html.037e943a.js"><link rel="prefetch" href="/assets/快捷键.html.7948363f.js"><link rel="prefetch" href="/assets/忽略不想要提交的本地修改.html.099445b2.js"><link rel="prefetch" href="/assets/接口.html.a9e3effc.js"><link rel="prefetch" href="/assets/插件.html.880c6a95.js"><link rel="prefetch" href="/assets/数组去重.html.f2f5b393.js"><link rel="prefetch" href="/assets/服务端推送.html.8df9057d.js"><link rel="prefetch" href="/assets/正则.html.7c0b9fe9.js"><link rel="prefetch" href="/assets/类.html.0b90b5bb.js"><link rel="prefetch" href="/assets/类型判断.html.07edcda0.js"><link rel="prefetch" href="/assets/路由.html.34ef97c4.js"><link rel="prefetch" href="/assets/knowledge.html.1703228b.js"><link rel="prefetch" href="/assets/ol加载mvt.html.678ca848.js"><link rel="prefetch" href="/assets/倾斜摄影测量与BIM技术实现城市三维模型的构建与应用.html.886e07c0.js"><link rel="prefetch" href="/assets/utils.html.6cdca3c0.js"><link rel="prefetch" href="/assets/bookmark.html.3fa0f86b.js"><link rel="prefetch" href="/assets/cesium功能.html.2e1c270f.js"><link rel="prefetch" href="/assets/cesium常用底图.html.36701526.js"><link rel="prefetch" href="/assets/gis.html.6c231fc3.js"><link rel="prefetch" href="/assets/mapbox.html.d7b45409.js"><link rel="prefetch" href="/assets/openlayers.html.3923c41d.js"><link rel="prefetch" href="/assets/天地图.html.eff880e4.js"><link rel="prefetch" href="/assets/模版.html.1cec79ba.js"><link rel="prefetch" href="/assets/浅谈浏览器端 WebGIS 开发可能会用到的、提升效率的 js 库.html.a8dbdcf7.js"><link rel="prefetch" href="/assets/404.html.d4021930.js"><link rel="prefetch" href="/assets/404.7ffbc815.js"><link rel="prefetch" href="/assets/Layout.52fea9f1.js"><link rel="prefetch" href="/assets/banner.2155af62.js"><link rel="prefetch" href="/assets/bookmark.fac51cf7.js"><link rel="prefetch" href="/assets/count.45d2e0d4.js">
    <link rel="stylesheet" href="/assets/style.ad605478.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">xesxz&#39;s blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/javascript" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/catalog" class="" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/css" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/jquery" class="" aria-label="Jquery"><!--[--><!--]--> Jquery <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/typescript" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="util"><!--[--><!--]--> util <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/a" class="" aria-label="待定"><!--[--><!--]--> 待定 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工程化</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/plugin" class="" aria-label="Plugin"><!--[--><!--]--> Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/linux" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/nginx" class="" aria-label="nginx"><!--[--><!--]--> nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/webpack" class="" aria-label="webpack&amp;vite"><!--[--><!--]--> webpack&amp;vite <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Gis"><span class="title">Gis</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Gis"><span class="title">Gis</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gis框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/cesium" class="router-link-active" aria-label="Cesium"><!--[--><!--]--> Cesium <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/openlayers" class="" aria-label="Openlayers"><!--[--><!--]--> Openlayers <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/mapbox" class="" aria-label="Mapbox"><!--[--><!--]--> Mapbox <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>gis知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/knowledge" class="" aria-label="gis知识"><!--[--><!--]--> gis知识 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其他"><span class="title">其他</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其他"><span class="title">其他</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>书签</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/other/bookmark" class="" aria-label="书签"><!--[--><!--]--> 书签 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>面试</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/interview" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="js"><span class="title">js</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="js"><span class="title">js</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>js基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/js/utils" class="" aria-label="utils"><!--[--><!--]--> utils <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>容器编排工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/container/kubespray" class="" aria-label="使用kubespray部署k8s"><!--[--><!--]--> 使用kubespray部署k8s <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>通用算法</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/algorithm/double-pointer" class="" aria-label="双指针"><!--[--><!--]--> 双指针 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/vvfock3r/note" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/javascript" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/catalog" class="" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/css" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/jquery" class="" aria-label="Jquery"><!--[--><!--]--> Jquery <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/typescript" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="util"><!--[--><!--]--> util <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/a" class="" aria-label="待定"><!--[--><!--]--> 待定 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工程化</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/plugin" class="" aria-label="Plugin"><!--[--><!--]--> Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/linux" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/nginx" class="" aria-label="nginx"><!--[--><!--]--> nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/webpack" class="" aria-label="webpack&amp;vite"><!--[--><!--]--> webpack&amp;vite <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Gis"><span class="title">Gis</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Gis"><span class="title">Gis</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gis框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/cesium" class="router-link-active" aria-label="Cesium"><!--[--><!--]--> Cesium <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/openlayers" class="" aria-label="Openlayers"><!--[--><!--]--> Openlayers <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/gis/gisFrame/mapbox" class="" aria-label="Mapbox"><!--[--><!--]--> Mapbox <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>gis知识</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/gis/knowledge" class="" aria-label="gis知识"><!--[--><!--]--> gis知识 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其他"><span class="title">其他</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其他"><span class="title">其他</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>书签</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/other/bookmark" class="" aria-label="书签"><!--[--><!--]--> 书签 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>面试</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/interview" class="" aria-label="面试"><!--[--><!--]--> 面试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="js"><span class="title">js</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="js"><span class="title">js</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>js基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/js/utils" class="" aria-label="utils"><!--[--><!--]--> utils <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/git" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>容器编排工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/container/kubespray" class="" aria-label="使用kubespray部署k8s"><!--[--><!--]--> 使用kubespray部署k8s <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>通用算法</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/algorithm/double-pointer" class="" aria-label="双指针"><!--[--><!--]--> 双指针 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/vvfock3r/note" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">cesium <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/gis/gisFrame/cesium.html#alphamode" class="router-link-active router-link-exact-active sidebar-item" aria-label="AlphaMode"><!--[--><!--]--> AlphaMode <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#animation" class="router-link-active router-link-exact-active sidebar-item" aria-label="Animation"><!--[--><!--]--> Animation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#animationviewmodel" class="router-link-active router-link-exact-active sidebar-item" aria-label="AnimationViewModel"><!--[--><!--]--> AnimationViewModel <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#第三方公司" class="router-link-active router-link-exact-active sidebar-item" aria-label="第三方公司"><!--[--><!--]--> 第三方公司 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#视角" class="router-link-active router-link-exact-active sidebar-item" aria-label="视角"><!--[--><!--]--> 视角 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#加载河流" class="router-link-active router-link-exact-active sidebar-item" aria-label="加载河流"><!--[--><!--]--> 加载河流 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#常用方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="常用方法"><!--[--><!--]--> 常用方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="事件"><!--[--><!--]--> 事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#分色渲染" class="router-link-active router-link-exact-active sidebar-item" aria-label="分色渲染"><!--[--><!--]--> 分色渲染 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#加载模型" class="router-link-active router-link-exact-active sidebar-item" aria-label="加载模型"><!--[--><!--]--> 加载模型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#链接" class="router-link-active router-link-exact-active sidebar-item" aria-label="链接"><!--[--><!--]--> 链接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#加载倾斜摄影" class="router-link-active router-link-exact-active sidebar-item" aria-label="加载倾斜摄影"><!--[--><!--]--> 加载倾斜摄影 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#mti3d" class="router-link-active router-link-exact-active sidebar-item" aria-label="mti3d"><!--[--><!--]--> mti3d <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/gis/gisFrame/cesium.html#坐标系" class="router-link-active router-link-exact-active sidebar-item" aria-label="坐标系"><!--[--><!--]--> 坐标系 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#地形" class="router-link-active router-link-exact-active sidebar-item" aria-label="地形"><!--[--><!--]--> 地形 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#可学习的框架" class="router-link-active router-link-exact-active sidebar-item" aria-label="可学习的框架"><!--[--><!--]--> 可学习的框架 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#底图" class="router-link-active router-link-exact-active sidebar-item" aria-label="底图"><!--[--><!--]--> 底图 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/gis/gisFrame/cesium.html#移除" class="router-link-active router-link-exact-active sidebar-item" aria-label="移除"><!--[--><!--]--> 移除 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="cesium" tabindex="-1"><a class="header-anchor" href="#cesium" aria-hidden="true">#</a> cesium</h1><h2 id="alphamode" tabindex="-1"><a class="header-anchor" href="#alphamode" aria-hidden="true">#</a> <strong>AlphaMode</strong></h2><p>3DTile b3dm 内嵌的 glb 数据,glb 的 material 中 alphaMode 有三种模式</p><h2 id="animation" tabindex="-1"><a class="header-anchor" href="#animation" aria-hidden="true">#</a> <strong>Animation</strong></h2><p>控件 widget</p><h2 id="animationviewmodel" tabindex="-1"><a class="header-anchor" href="#animationviewmodel" aria-hidden="true">#</a> <strong>AnimationViewModel</strong></h2><h2 id="第三方公司" tabindex="-1"><a class="header-anchor" href="#第三方公司" aria-hidden="true">#</a> 第三方公司</h2><p><a href="">厦门图扑软件科技有限公司</a></p><p><a href="http://earthsdk.com/" target="_blank" rel="noopener noreferrer">earthsdk<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="">数字视觉</a></p><h2 id="视角" tabindex="-1"><a class="header-anchor" href="#视角" aria-hidden="true">#</a> 视角</h2><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token number">1</span><span class="token punctuation">;</span>
view<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">destination</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.435314</span><span class="token punctuation">,</span> <span class="token number">39.960521</span><span class="token punctuation">,</span> <span class="token number">15000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//设置位置</span>
  <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">heading</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pitch</span><span class="token operator">:</span> cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">2</span><span class="token punctuation">;</span>
view<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">destination</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//west, south, east, north</span>

  <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">heading</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 方向</span>

    <span class="token literal-property property">pitch</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 倾斜角度</span>

    <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> center <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">98.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4790000.0</span><span class="token punctuation">,</span> <span class="token number">3930000.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2. Using a HeadingPitchRange offset</span>
<span class="token keyword">var</span> center <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">72.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> heading <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">50.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pitch <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> range <span class="token operator">=</span> <span class="token number">5000.0</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span>
  center<span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>HeadingPitchRange</span><span class="token punctuation">(</span>heading<span class="token punctuation">,</span> pitch<span class="token punctuation">,</span> range<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="加载河流" tabindex="-1"><a class="header-anchor" href="#加载河流" aria-hidden="true">#</a> 加载河流</h2><div class="language-javascript ext-js"><pre class="language-javascript"><code>    <span class="token function">loadWater</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        _this<span class="token punctuation">.</span><span class="token function">reqRoadrData</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> features <span class="token operator">=</span> res<span class="token punctuation">.</span>features<span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> geometry <span class="token operator">=</span> features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">;</span>
                <span class="token keyword">let</span> coordinates <span class="token operator">=</span> geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> geo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> coordinates<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    geo<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>coordinates<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinates<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">geometry</span><span class="token operator">:</span> geo<span class="token punctuation">,</span> <span class="token comment">//水的geometry模板</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> style <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">water_normals_map</span><span class="token operator">:</span> <span class="token string">&#39;./js/comps/water/waternormals.jpg&#39;</span><span class="token punctuation">,</span> <span class="token comment">//水动效贴图</span>
                    <span class="token literal-property property">texture_width</span><span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">texture_height</span><span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">water_opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//水的透明度</span>
                    <span class="token literal-property property">water_color</span><span class="token operator">:</span> <span class="token number">0x3195fa</span><span class="token punctuation">,</span> <span class="token comment">//水的颜色0x33CCFF</span>
                    <span class="token literal-property property">distortionScale</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">//水中倒影清晰度（越大越不清晰）</span>
                    <span class="token literal-property property">fog</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//开启雾化效果</span>
                    <span class="token literal-property property">water_size</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token comment">//水面起伏大小（越小越大）</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> widget <span class="token operator">=</span> _this<span class="token punctuation">.</span>map<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addWidget</span><span class="token punctuation">(</span>Vex<span class="token punctuation">.</span>Water<span class="token punctuation">,</span> data<span class="token punctuation">,</span> style<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                widget<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="常用方法" tabindex="-1"><a class="header-anchor" href="#常用方法" aria-hidden="true">#</a> 常用方法</h2><div class="language-javascript ext-js"><pre class="language-javascript"><code>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">computeViewRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取当前视角的 Rectangle</span>

viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>positionCartographic<span class="token punctuation">.</span>height<span class="token punctuation">;</span> <span class="token comment">//获取相机高度</span>

<span class="token function">copy</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取当前视角</span>

<span class="token keyword">function</span> <span class="token function">getRadiansOfCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> position <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> heading <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>heading<span class="token punctuation">;</span>
  <span class="token keyword">const</span> pitch <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>pitch<span class="token punctuation">;</span>
  <span class="token keyword">const</span> roll <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>roll<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">destination</span><span class="token operator">:</span> position<span class="token punctuation">,</span> <span class="token comment">//三维笛卡尔坐标</span>
    <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      heading<span class="token punctuation">,</span>
      pitch<span class="token punctuation">,</span>
      roll<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>





  <span class="token keyword">function</span> <span class="token function">getDegreesOfCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> lngLat <span class="token operator">=</span> <span class="token function">cartesian3ToDegrees</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>positionWC<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> heading <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>heading<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> pitch <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>pitch<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> roll <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>roll<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">destination</span><span class="token operator">:</span> <span class="token punctuation">[</span>lngLat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lngLat<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lngLat<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">[</span>heading<span class="token punctuation">,</span> pitch<span class="token punctuation">,</span> roll<span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>




<span class="token doc-comment comment">/**
 * 三维笛卡尔坐标转角度
 */</span>
 <span class="token keyword">function</span> <span class="token function">cartesian3ToDegrees</span><span class="token punctuation">(</span>
  <span class="token parameter">cartesian3</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> lngLat <span class="token operator">=</span> <span class="token punctuation">(</span>viewer
    <span class="token operator">?</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>ellipsoid
    <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cartesianToCartographic</span><span class="token punctuation">(</span>cartesian3<span class="token punctuation">)</span>
  <span class="token keyword">const</span> lng <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>lngLat<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span>
  <span class="token keyword">const</span> lat <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>lngLat<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span>
  <span class="token keyword">const</span> hei <span class="token operator">=</span> lngLat<span class="token punctuation">.</span>height
  <span class="token keyword">return</span> <span class="token punctuation">[</span>lng<span class="token punctuation">,</span> lat<span class="token punctuation">,</span> hei<span class="token punctuation">]</span>
<span class="token punctuation">}</span>


</code></pre></div><h2 id="事件" tabindex="-1"><a class="header-anchor" href="#事件" aria-hidden="true">#</a> 事件</h2><div class="language-javascript ext-js"><pre class="language-javascript"><code>If the mouse is over a point <span class="token keyword">of</span> interest<span class="token punctuation">,</span> change the entity billboard scale and color
<span class="token keyword">var</span> previousPickedEntity <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mousemove <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceEventHandler</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
 mousemove<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">movement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> pickedPrimitive <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>movement<span class="token punctuation">.</span>endPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> pickedEntity <span class="token operator">=</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedPrimitive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> pickedPrimitive<span class="token punctuation">.</span>id <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>previousPickedEntity<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     previousPickedEntity<span class="token punctuation">.</span>label <span class="token operator">=</span> <span class="token keyword">null</span>
     <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedEntity<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>pickedEntity<span class="token punctuation">.</span>billboard<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>


   pickedEntity<span class="token punctuation">.</span>label <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> pickedEntity<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>_name<span class="token punctuation">.</span>_value<span class="token punctuation">,</span>
      <span class="token literal-property property">font</span><span class="token operator">:</span> <span class="token string">&#39;15px SimHei &#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>LabelStyle<span class="token punctuation">.</span><span class="token constant">FILL</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fillColor</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token literal-property property">horizontalOrigin</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>HorizontalOrigin<span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">,</span>
      <span class="token literal-property property">verticalOrigin</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>VerticalOrigin<span class="token punctuation">.</span><span class="token constant">TOP</span>
     <span class="token punctuation">}</span>
    previousPickedEntity <span class="token operator">=</span> pickedEntity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">MOUSE_MOVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="分色渲染" tabindex="-1"><a class="header-anchor" href="#分色渲染" aria-hidden="true">#</a> 分色渲染</h2><div class="language-javascript ext-js"><pre class="language-javascript"><code>Cesium<span class="token punctuation">.</span>GeoJsonDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;./data/beijing.geojson&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>
  <span class="token parameter">dataSource<span class="token punctuation">,</span></span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> entities <span class="token operator">=</span> dataSource<span class="token punctuation">.</span>entities<span class="token punctuation">.</span>values<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> entities<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> entity <span class="token operator">=</span> entities<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 构造随机颜色</span>
    <span class="token keyword">var</span> color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromRandom</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token number">0.6</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span>polygon<span class="token punctuation">.</span>material <span class="token operator">=</span> color<span class="token punctuation">;</span>
    entity<span class="token punctuation">.</span>polygon<span class="token punctuation">.</span>outline <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="加载模型" tabindex="-1"><a class="header-anchor" href="#加载模型" aria-hidden="true">#</a> 加载模型</h2><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> modelentity <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span>
    <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 这是模型的描述属性，可以是html标签</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">112.07</span><span class="token punctuation">,</span> <span class="token number">35.05</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">uri</span><span class="token operator">:</span> <span class="token string">&#39;Model/SFTDT.glb&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 资源路径</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="链接" tabindex="-1"><a class="header-anchor" href="#链接" aria-hidden="true">#</a> 链接</h2><p><a href="https://www.cnblogs.com/arxive/p/10256065.html" target="_blank" rel="noopener noreferrer">经纬度<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://blog.csdn.net/weixin_43805235/article/details/85112444" target="_blank" rel="noopener noreferrer">材质<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="加载倾斜摄影" tabindex="-1"><a class="header-anchor" href="#加载倾斜摄影" aria-hidden="true">#</a> 加载倾斜摄影</h2><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> tileset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cesium3DTileset</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//相对路径</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://data.marsgis.cn/3dtiles/max-piping2/tileset.json&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//添加到球体上</span>
viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tileset<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//定位过去</span>
viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>tileset<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="mti3d" tabindex="-1"><a class="header-anchor" href="#mti3d" aria-hidden="true">#</a> mti3d</h2><p>面 areaLayer._contentVectorLayer._values.popupName = &quot;exposePersonDetail&quot;;</p><p>聚合 clusterLayer._layer._options.popupName = &quot;testPop&quot;;</p><p>关闭弹框 globe.globalOverlay.visible &amp;&amp; globe.globalOverlay.setPosition(undefined);</p><p>关闭多个弹窗两种方式 window.mti3d.overlay.remove(item, window.globe); overlay.destroy()</p><h3 id="坐标系" tabindex="-1"><a class="header-anchor" href="#坐标系" aria-hidden="true">#</a> 坐标系</h3><p>Cesium 中常用的坐标有两种 <strong>WGS84 地理坐标系(104,30)</strong> 和 <strong>笛卡尔空间坐标系 Cartesian3</strong>，WGS84 地理坐标系包括 WGS84 经纬度坐标系（没有实际的对象）和 WGS84 弧度坐标系（Cartographic）；</p><p>cesium 加载需使用天地图墨卡托显示的位置才是正确的 vec_w</p><h4 id="坐标转换" tabindex="-1"><a class="header-anchor" href="#坐标转换" aria-hidden="true">#</a> 坐标转换</h4><p>var Cartesian3_to_WGS84 = function (point) { var cartesian33 = new Cesium.Cartesian3(point.x, point.y, point.z); var cartographic = Cesium.Cartographic.fromCartesian(cartesian33); var lat = Cesium.Math.toDegrees(cartographic.latitude); var lng = Cesium.Math.toDegrees(cartographic.longitude); var alt = cartographic.height; return {lng: lng, lat: lat, alt: alt}; }</p><p><a href="https://www.cnblogs.com/matanzhang/p/11846929.html" target="_blank" rel="noopener noreferrer">cnblogs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 经纬度和弧度的转换</p><div class="language-text ext-text"><pre class="language-text"><code>//方法一：
var longitude = Cesium.Math.toRadians(longitude1); //其中 longitude1为角度

var latitude= Cesium.Math.toRadians(latitude1); //其中 latitude1为角度

var cartographic = new Cesium.Cartographic(longitude, latitude, height)；

//方法二：
var cartographic= Cesium.Cartographic.fromDegrees(longitude, latitude, height);//其中，longitude和latitude为角度

//方法三：
var cartographic= Cesium.Cartographic.fromRadians(longitude, latitude, height);//其中，longitude和latitude为弧度
</code></pre></div><h2 id="地形" tabindex="-1"><a class="header-anchor" href="#地形" aria-hidden="true">#</a> 地形</h2><div class="language-text ext-text"><pre class="language-text"><code>      terrainProvider: new Cesium.ArcGISTiledElevationTerrainProvider({
    url: &quot;https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer&quot;,
  }),

     terrainProvider : Cesium.createWorldTerrain()


</code></pre></div><h2 id="可学习的框架" tabindex="-1"><a class="header-anchor" href="#可学习的框架" aria-hidden="true">#</a> 可学习的框架</h2><p>supermap</p><p>mars3d</p><p>mti3d</p><p>x</p><p>heightReference</p><p>1 面状、点状、广告牌 (面貌似不用设置，但是他的 perPositionHeight 不能为 ture) heightReference: HeightReference.CLAMP_TO_GROUND, //贴地</p><p>线要这样设置 clampToGround: true,//开启贴地</p><p>2 geojson let promise = Cesium.GeoJsonDataSource.load(_geojsondata, {</p><p>clampToGround: true</p><p>});</p><p>3 线状数据需要设置 clampToGround 的属性为 true。 作者：地理信息技术杂谈 https://www.bilibili.com/read/cv19452276?from=articleDetail 出处：bilibili</p><div class="language-text ext-text"><pre class="language-text"><code>  for (var i = 0; i &lt; entities.length; i++) {
        var entity = entities[i];

        entity.polygon.material = new Color(12 / 255, 152 / 255, 207 / 255, 1);
        entity.polygon.outline = false;
        // entity.polygon.extrudedHeight = 100
        entity.polygon.outlineWidth = 10;
        // Cesium 设置Polygon轮廓线outlineWidth宽度
        entity.polyline = {
          positions: entity.polygon.hierarchy._value.positions,
          width: entity.polygon.outlineWidth,
          material: Color.YELLOW
      }

</code></pre></div><h2 id="底图" tabindex="-1"><a class="header-anchor" href="#底图" aria-hidden="true">#</a> 底图</h2><div class="language-text ext-text"><pre class="language-text"><code> imageryProvider: createWorldImagery({
      style: IonWorldImageryStyle.ROAD,
    }),
    ```


## `Color`

</code></pre></div><pre><code>var defaultFill = Cesium.Color.fromBytes(255, 0, 0, 100);
// var defaultFill = new Cesium.Color(160 / 255, 30 / 255, 240 / 255, 1);
// var defaultFill = new Cesium.Color(255 / 255, 0 / 255, 0 / 255, 1);
```

  //默认的Cesium会加载一个bingMap底图，这个地图网络不太好，一般要先去掉这个默认的
</code></pre><p>viewer.imageryLayers.remove(viewer.imageryLayers.get(0));</p><p>在 cesium 中 viewer.camera 和 viewer.scene.camera 的区别</p><p>viewer.flyTo 和 viewer.camera.flyTo 区别</p><p>前者是飞向一个实体 后者是飞向一个具体的坐标</p><p>map.viewer.scene.primitives.get(0) 查看属性</p><pre><code>    var handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);
    handler.setInputAction(function(movement) {
const feature = viewer.scene.pick(movement.endPosition);
if (feature instanceof Cesium.Cesium3DTileFeature) {
    const propertyIds = feature.getPropertyIds();
    const length = propertyIds.length;
    for (let i = 0; i &lt; length; ++i) {
        const propertyId = propertyIds[i];
        console.log(`{propertyId}: ${feature.getProperty(propertyId)}`);
    }
}
</code></pre><p>}, Cesium.ScreenSpaceEventType.MOUSE_MOVE);</p><p>http://data.mars3d.cn/3dtiles/bim-daxue/scenetree.json</p><p>map.on(mars3d.EventType.click, function(event) { let feature = event.pickedObject; //下面只是演示解释底层实现，在平台中直接通过 event.graphic.attr 可以获取属性 if (feature instanceof Cesium.Cesium3DTileFeature) { let propertyNames = feature.getPropertyNames(); let length = propertyNames.length; for (var i = 0; i &lt; length; ++i) { let propertyName = propertyNames[i]; console.log(propertyName + &#39;: &#39; + feature.getProperty(propertyName)); } } });</p><p>蚊香？ material: new Cesium.Material({ fabric: { type: &#39;VtxfShader1&#39;, uniforms: { color: new Cesium.Color(0.2, 1.0, 0.0, 1.0), repeat: 30.0, offset: 0.0, thickness: 0.3, }, source: <code> uniform vec4 color; uniform float repeat; uniform float offset; uniform float thickness; czm_material czm_getMaterial(czm_materialInput materialInput) { czm_material material = czm_getDefaultMaterial(materialInput); float sp = 1.0/repeat; vec2 st = materialInput.st; float dis = distance(st, vec2(0.5)); float m = mod(dis + offset, sp); float a = step(sp*(1.0-thickness), m); material.diffuse = color.rgb; material.alpha = a * color.a; return material; } </code> }, translucent: false }),</p><pre><code>                * 推荐使用 Notepade ++ 打开阅读；
</code></pre><ol><li>场景数据文件为 json 格式，输出路径为 /info/index.json ;</li><li>示例数据如下 { &quot;version&quot;: &quot;0.5&quot;, &quot;created&quot;: &quot;2019-08-12 16:31:32.618&quot;, &quot;copyright&quot;: &quot;Copyright BimAngle 2017-2019&quot;, &quot;db&quot;: { &quot;rootDbId&quot;: 1, &quot;externalIds&quot;: [null, &quot;doc&quot;, &quot;91b213cd-b5bc-4a74-8a53-fa8a69a4b7e6-00118e58&quot;, &quot;&quot;, &quot;&quot;, &quot;f72ed939-20fb-4570-b23e-88f5281ad539-00022c59&quot;, &quot;5c80e61e-acf5-442d-afcc-fefd6ffc74bf-001493d8&quot;, &quot;91b213cd-b5bc-4a74-8a53-fa8a69a4b7e6-00118e5f&quot;, &quot;ec54546d-d2dd-4ba0-b637-29155aa29f08-00151623&quot;, &quot;91b213cd-b5bc-4a74-8a53-fa8a69a4b7e6-00118e75&quot;, &quot;ec54546d-d2dd-4ba0-b637-29155aa29f08-00155837&quot;, &quot;91b213cd-b5bc-4a74-8a53-fa8a69a4b7e6-00118e7c&quot;, &quot;b906fd0a-6f15-438c-96ae-71b6da03e3c6-0015ab26&quot;], &quot;parentIds&quot;: [-1, -1, 1, 1, 3, 4, 5, 1, 5, 1, 5, 1, 5], &quot;names&quot;: [null, &quot;Model&quot;, &quot;MEP_C_5F(37.600)&quot;, &quot;风管&quot;, &quot;矩形风管&quot;, &quot;半径弯头/接头&quot;, &quot;半径弯头/接头 [1348568]&quot;, &quot;MEP_C_6F(41.800)&quot;, &quot;半径弯头/接头 [1381923]&quot;, &quot;MEP_C_7F(46.000)&quot;, &quot;半径弯头/接头 [1398839]&quot;, &quot;MEP_C_8F(50.200)&quot;, &quot;半径弯头/接头 [1420070]&quot;], &quot;categories&quot;: [null, &quot;Revit Document&quot;, &quot;Revit Level&quot;, &quot;Revit Category&quot;, &quot;Revit Family Name&quot;, &quot;Revit Family Type&quot;, &quot;Revit Duct&quot;, &quot;Revit Level&quot;, &quot;Revit Duct&quot;, &quot;Revit Level&quot;, &quot;Revit Duct&quot;, &quot;Revit Level&quot;, &quot;Revit Duct&quot;], &quot;types&quot;: [-1, 5, 2, 3, 3, 3, 4, 2, 4, 2, 4, 2, 4], &quot;propPackIds&quot;: [-1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], &quot;boundingBoxes&quot;: [null, [65.574, 2.573, 21.6, 67.774, 7.93, 34.7], null, [65.574, 2.573, 21.6, 67.774, 7.93, 34.7], [65.574, 2.573, 21.6, 67.774, 7.93, 34.7], [65.574, 2.573, 21.6, 67.774, 7.93, 34.7], [65.574, 2.573, 21.6, 67.774, 7.93, 22.1], null, [65.574, 2.573, 25.8, 67.774, 7.93, 26.3], null, [65.574, 2.573, 30.0, 67.774, 7.93, 30.5], null, [65.574, 2.573, 34.2, 67.774, 7.93, 34.7]] } }</li><li>所有数据保存在 db 字段中，详细说明如下: 3.1 概述 a. 整个场景是按树形结构组织的，每个节点都有一个唯一 id, 称为 dbId； b. db.rootDbId 保存场景树跟节点的 dbId 值; c. db 的其它字段类型都是数组，数组的索引值就是对应的 dbId。比如要获取 dbId = 10 这个节点的节点名称，可以取值: db.names[10]; 3.2 字段描述 a. db.rootDbId: 类型为 int，根节点的 id 值; b. db.externalIds: 类型为 string[]，节点的外部 ID，用于关联原始 BIM 模型中的构件。例如对于 rvt 模型，这里保存的是对应构件的 element.UniqueId (Revit Api); c. db.parentIds: 类型为 int[], 节点的父节点 dbId。例如要获取 dbId = 10 这个节点的父节点 dbId，可以取值: db.parentIds[10]; d. db.names: 类型为 string[], 节点的名称。比如要获取 dbId = 10 这个节点的名称，可以取值: db.names[10]; e. db.categories: 类型为 string[], 节点的分类。取值方法同上； f. db.types: 类型为 int[], 节点的几何分类，主要参考了 Navisworks 的标识方式。详细定义: -1: 无效, 0,1: 未知, 2: 图层(layer), 3:集合(collection), 4:组合(composite), 5: 模型(model) g. db.propPackIds: 类型为 int[], 节点的详细属性包 id。例如要获取 dbId = 10 这个节点的详细数据，可以加载这个 json 文件: /info/{db.propPackIds[10]}.json ; h. db.boundingBoxes, 类型为 double[][6], 节点的空间包围盒信息，内容为: [minX, minY, minZ, maxX, maxY, maxZ]; 如果希望将视角定位某个节点的范围，可以调用以下代码:</li></ol><p>function zoomToFeature(viewer, tileset, db, dbId){ var box = db.boundingBoxes[dbId]; if(!!box) return false;</p><p>var minX = box[0]; var minY = box[1]; var minZ = box[2]; var maxX = box[3]; var maxY = box[4]; var maxZ = box[5];</p><p>var sphere = Cesium.BoundingSphere.transform( Cesium.BoundingSphere.fromCornerPoints(new Cesium.Cartesian3(minX, minY, minZ), new Cesium.Cartesian3(maxX, maxY, maxZ)), tileset.root.computedTransform, new Cesium.BoundingSphere() ); var camera = viewer.scene.camera; var offset = new Cesium.HeadingPitchRange(camera.heading, camera.pitch, 0); camera.flyToBoundingSphere(sphere, {offset: offset});<br> return true; }</p><p>map.viewer.scene.globe.depthTestAgainstTerrain 默认是false，也就是不使用深度检测，所以模型会遮挡地形，导致模型无法显示在地形下面。</p><p>supermap 默认设置的是true</p><p>根据视距缩放图标 scaleByDistance: new Cesium.NearFarScalar(10000, 1.0, 500000, 0.1)</p><h2 id="移除" tabindex="-1"><a class="header-anchor" href="#移除" aria-hidden="true">#</a> 移除</h2><div class="language-text ext-text"><pre class="language-text"><code>viewer.dataSources.removeAll()
viewer.scene.primitives.removeAll()
viewer.imageryLayers.removeAll()
</code></pre></div><p>军标 https://jsrun.net/note/6URpp</p><div class="language-text ext-text"><pre class="language-text"><code>        const viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;, {
            baseLayer:false,
            baseLayerPicker: false,
            sceneModePicker: false,
            navigationHelpButton: false,
            homeButton: false,
            infoBox: false,
            timeline: false,
            animation: false,
            vrButton: false,
            geocoder: false,
            fullscreenButton: false,
            navigationInstructionsInitiallyVisible: false,
            shouldAnimate: true,
            creditContainer: document.createElement(&quot;div&quot;)
        });
        viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK)
        viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)

        ```

        ```
           // 计算矩阵
    const computeModelMatrix = (position = [0, 0, 0], rotation = [0, 0, 0], scale = [1, 1, 1]) =&gt; {
        // 计算旋转角度
        let rotationX = Cesium.Matrix4.fromRotationTranslation(
            Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(rotation[0])));

        let rotationY = Cesium.Matrix4.fromRotationTranslation(
            Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(rotation[1])));

        let rotationZ = Cesium.Matrix4.fromRotationTranslation(
            Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(rotation[2])));
        // 根据位置计算矩阵
        let enuMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(
            Cesium.Cartesian3.fromDegrees(...position)
        );
        // 旋转矩阵
        Cesium.Matrix4.multiply(enuMatrix, rotationX, enuMatrix);
        Cesium.Matrix4.multiply(enuMatrix, rotationY, enuMatrix);
        Cesium.Matrix4.multiply(enuMatrix, rotationZ, enuMatrix);
        // 缩放矩阵
        let scaleMatrix = Cesium.Matrix4.fromScale(new Cesium.Cartesian3(...scale));
        // 计算最终矩阵
        let modelMatrix = Cesium.Matrix4.multiply(enuMatrix, scaleMatrix, new Cesium.Matrix4());

        return modelMatrix;
    }


      tileset.root.transform = computeModelMatrix([113.31914084147262, 23.10896926740387, 0], [0, 0, 0], [2, 2, 2])
    ```


[Geometry types 几何图形类型](http://cesium.coinidea.com/uploads/2019/06/02/5cf37e714b37217644.png)
[[CesiumJS]Cesium教程中级7 -几何图形和外观](http://cesium.coinidea.com/topic/578.html)



  const  boundingSphere = Cesium.RectangleGeometry.createGeometry(geometry).boundingSphere
    viewer.camera.flyToBoundingSphere(boundingSphere, { duration: 0 })



PolylineGeometry -&gt; GeometryInstance -&gt; Primitive

RectangleGeometry -&gt; GeometryInstance -&gt; Primitive

PolygonGeometry -&gt; GeometryInstance -&gt; Primitive

const points = viewer.scene.primitives.add(new Cesium.PointPrimitiveCollection());
const billboards = viewer.scene.primitives.add(new Cesium.BillboardCollection());

</code></pre></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zhanglei@cdgis.cc">张磊</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: leeycheung@gmail.com">xesxz</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 631298983@qq.com">张磊</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 631298983">张磊</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 631298983@qq.com">leey</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.ace0dae9.js" defer></script>
  </body>
</html>
