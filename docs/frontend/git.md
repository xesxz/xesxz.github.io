# git

> åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä¸ªï¼Œä¸€èˆ¬éƒ½ä¼šæ·»åŠ  .gitignore æ–‡ä»¶ï¼Œè§„åˆ™å¾ˆç®€å•ï¼Œä½†æœ‰æ—¶ä¼šå‘ç°ï¼Œè§„åˆ™ä¸ç”Ÿæ•ˆã€‚
> åŸå› æ˜¯ .gitignore åªèƒ½å¿½ç•¥é‚£äº›åŸæ¥æ²¡æœ‰è¢« track çš„æ–‡ä»¶ï¼Œå¦‚æœæŸäº›æ–‡ä»¶å·²ç»è¢«çº³å…¥äº†ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œåˆ™ä¿®æ”¹.gitignore æ˜¯æ— æ•ˆçš„ã€‚
> é‚£ä¹ˆè§£å†³æ–¹æ³•å°±æ˜¯å…ˆæŠŠæœ¬åœ°ç¼“å­˜åˆ é™¤ï¼ˆæ”¹å˜æˆæœª track çŠ¶æ€ï¼‰ï¼Œç„¶åå†æäº¤ã€‚

```
git rm -r --cached .

git add .

git commit -m 'update .gitignore'

æ”¾å¼ƒæ‰€æœ‰çš„æ–‡ä»¶ä¿®æ”¹å¯ä»¥ä½¿ç”¨ git checkout .  å‘½ä»¤ã€‚

çº¿ä¸Šçš„ä»£ç é‡ç½®åˆ°æŒ‡å®šæ—¶é—´
git reset --hard 0563e5ca4d17767e758b0bf3ce40450c8a32d7b6
git push -f
```


## gitå¸¸ç”¨å‘½ä»¤


```

git grep [å…³é”®å­—]
git blame æ–‡ä»¶


```



## åˆ›å»ºåˆ†æ”¯

```
git checkout -b dev-zl

git push origin dev-zl
```

```
git fetch origin dev2   //ä»è¿œç¨‹dev2åˆ†æ”¯æ‹‰å–ä»£ç åˆ°æœ¬åœ°

git checkout -b dev origin/devï¼ˆæ–°å»ºæœ¬åœ°åˆ†æ”¯å¯¹åº”è¿œç¨‹åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¿™ä¸ªåˆ†æ”¯ï¼‰

```

## git æäº¤è§„èŒƒ

- update æ›´æ–°æŸäº›åŠŸèƒ½
- feat æ–°åŠŸèƒ½
- fix bug ä¿®å¤
- refactor é‡æ„ä»£ç (æ—¢æ²¡æœ‰æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰ä¿®å¤ bug)
- docs æ–‡æ¡£æ›´æ–°
- style ä¸å½±å“ç¨‹åºé€»è¾‘çš„ä»£ç ä¿®æ”¹(ä¿®æ”¹ç©ºç™½å­—ç¬¦ï¼Œæ ¼å¼ç¼©è¿›ï¼Œè¡¥å…¨ç¼ºå¤±çš„åˆ†å·ç­‰ï¼Œæ²¡æœ‰æ”¹å˜ä»£ç é€»è¾‘)
- revert å›æ»šæŸä¸ªæ›´æ—©ä¹‹å‰çš„æäº¤
- test æ–°å¢æµ‹è¯•ç”¨ä¾‹æˆ–æ˜¯æ›´æ–°ç°æœ‰æµ‹è¯•
- chore ä¸å±äºä»¥ä¸Šç±»å‹çš„å…¶ä»–ç±»å‹
- perf æ€§èƒ½ä¼˜åŒ–

# svn
update+to+lastest+revision
ä¼šæ›´æ–°åˆ°æœåŠ¡å™¨æœ€æ–°ç‰ˆæœ¬
Revert+to+last+updat
å¦‚æœæœ¬åœ°å’ŒæœåŠ¡å™¨ä¸Š ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶

# npm

## æŸ¥çœ‹å…¨å±€å®‰è£… npm

`npm list -g --depth 0`

# yarn

## yarn å¸¸ç”¨æŒ‡ä»¤

```
yarn add

yarn remove

```

## æ·˜å® npm ç½‘å€

https://npm.taobao.org/

ä¿®æ”¹

npm config set registry http://registry.npm.taobao.org/

è¿˜åŸ
npm config set registry https://registry.npmjs.org/

ä½¿ç”¨ nrm å·¥å…·åˆ‡æ¢æ·˜å®æº
npx nrm use taobao

å¦‚æœä¹‹åéœ€è¦åˆ‡æ¢å›å®˜æ–¹æºå¯ä½¿ç”¨
npx nrm use npm

npm i -g cnpm --registry=https://registry.npm.taobao.org

## å¿½ç•¥é…ç½®

```
.DS_Store
node_modules
/dist
*.zip


# local env files
.env.local
.env.*.local

# Log files
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# Editor directories and files
.idea
.vscode
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
*.zip

```

## docker

```
 docker run -dp 80:80 docker/getting-started

 docker cp /Users/wk/Downloads/pip 3e805cc23737798772cdac53e139dbbef6e582d0860b4b442f12a734f05f3fbf:/opt/geoserver/data_dir

```



#### 1ã€restore é‡ç½®

å¦‚æœä½ ä¿®æ”¹äº†ä»£ç ï¼Œä½†æ˜¯å¹¶æœªæ‰§è¡Œ `git add` æ“ä½œï¼Œå¯ç›´æ¥æ‰§è¡Œï¼š

```bash
git restore .
```

. è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼Œå¦‚æœæƒ³é‡ç½®ä¸ªåˆ«æ–‡ä»¶ï¼ŒæŒ‡å®šæ–‡ä»¶è·¯å¾„å³å¯

```bash
git restore <æ–‡ä»¶>...
```

æ³¨æ„âš ï¸ï¼šå¦‚æœä½ å·²ç»æ‰§è¡Œäº† `git add` æ“ä½œï¼Œæ­¤æ—¶ä»£ç å·²ä¿å­˜è‡³æš‚å­˜åŒºï¼Œéœ€è¦å…ˆå–æ¶ˆæš‚å­˜åŒºå˜æ›´ï¼š

```bash
git restore --staged .
```

æˆ–è€…

```bash
git reset .
```

ç„¶åï¼Œå†æ‰§è¡Œ `git pull` æ‹‰å–è¿œç¨‹ä»£ç åŒæ­¥å³å¯ã€‚

#### 2ã€reset å›é€€

`reset` æ¯”è¾ƒæš´åŠ›ï¼Œç›¸å½“äº å¯é€‚ç”¨äº ä»£ç åœ¨å·¥ä½œåŒºã€æš‚å­˜åŒºã€ä»“åº“åŒºç­‰ä»»ä½•åœºæ™¯ï¼Œé‡ç½®åä¸å¯æ¢å¤ğŸ™…â€â™‚ï¸ï¼Œå¯¹äºæ–°æ‰‹æœ‰ä¸€å®šçš„å®‰å…¨éšæ‚£ã€‚

```bash
git fetch --all
git reset --hard origin/master
git pull   // è¿™ä¸€æ­¥ä¸ºäº†åŒæ­¥è¿œç¨‹ä»£ç ï¼Œä¸éœ€è¦çš„è¯å¯ä¸æ‰§è¡Œ
```

+   git fetch æŒ‡ä»¤æ˜¯ä¸‹è½½è¿œç¨‹ä»“åº“æœ€æ–°å†…å®¹ï¼Œä¸åšåˆå¹¶ã€‚
+   git reset æŒ‡ä»¤æŠŠHEADæŒ‡å‘masteræœ€æ–°ç‰ˆæœ¬ã€‚

> reset --hardï¼šé‡ç½®åä¸ä¿ç•™æš‚å­˜åŒºå’Œå·¥ä½œåŒº  
> reset --softï¼šä¿ç•™å·¥ä½œåŒºï¼Œå¹¶æŠŠé‡ç½® HEAD æ‰€å¸¦æ¥çš„æ–°çš„å·®å¼‚æ”¾è¿›æš‚å­˜åŒºï¼ˆæ­¤æ—¶ä»£ç çš„å˜æ›´çŠ¶æ€ç›¸å½“äºæ‰§è¡Œå®Œ `git add`å‘½ä»¤ï¼‰  
> reset --mixedï¼šresetçš„é»˜è®¤å‚æ•°ï¼Œä¿ç•™å·¥ä½œç›®å½•ï¼Œå¹¶é‡ç½®æš‚å­˜åŒºï¼ˆæ­¤æ—¶ä»£ç çš„å˜æ›´çŠ¶æ€ç›¸å½“äºæ‰§è¡Œ `git add`å‘½ä»¤ä¹‹å‰ï¼‰

#### 3ã€stash æš‚å­˜ï¼ˆæ¨èï¼‰

æˆ‘æ¯”è¾ƒå–œæ¬¢çš„æ–¹æ³•ï¼Œæ˜¯ç”¨stashï¼Œæš‚å­˜ä»£ç å†åŒæ­¥ã€‚

é¦–å…ˆï¼Œå°†æ‰€æœ‰ä»£ç æ·»åŠ è‡³æš‚å­˜åŒºï¼š

```bash
git add .
```

ç„¶åï¼Œå°†ä»£ç ä¸´æ—¶ä¿å­˜ï¼š

```bash
git stash
```

æ­¤æ—¶ä»£ç ä¼šé‡ç½®åˆ°ä¿®æ”¹å‰çš„çŠ¶æ€ï¼Œå¯ä»¥åŒæ­¥è¿œç¨‹ä»“åº“åŒºï¼Œå®Œäº‹å„¿ã€‚

```bash
git pull
```

åŒæ­¥åï¼Œ**å¦‚æœ**è¿˜æƒ³ç»§ç»­ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œå¯å°†ä¸´æ—¶ä»£ç æ¢å¤è‡³å·¥ä½œåŒºï¼š

```bash
git stash pop
```


git branch <branch-name>
git checkout <branch-name>


æˆ–è€…åœ¨è¾ƒæ–°ç‰ˆæœ¬çš„Gitä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åŒæ—¶åˆ›å»ºå’Œåˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼š
git checkout -b <branch-name>




git reflogï¼šæŸ¥çœ‹æ¯ä¸€æ¬¡å‘½ä»¤è®°å½•
git reset --hard ca936c3å³å›æ»šåˆ°äº†æœ€æ–°çš„ç‰ˆæœ¬å·äº†